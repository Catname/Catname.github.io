<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>é›„çŒ«çš„è‡ªç”±ç©ºé—´</title>
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="/css/default.css" type="text/css" />
  <link rel="stylesheet" href="/css/desktop.css" type="text/css" />
  <link rel="stylesheet" href="/css/mobile.css" type="text/css" />
  <link rel="shortcut icon" href="/css/favicon.ico" type="image/x-icon" />
  <link rel="icon" href="/css/favicon.ico" mce_href="/favicon.ico" type="image/x-icon">
  <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
  <script src="/js/jquery-1.11.0.min.js" type="text/javascript"></script>
  <script src="/js/jquery-migrate-1.2.1.js" type="text/javascript"></script>
  <script src="/js/jquery.transit.min.js" type="text/javascript"></script>
  <script src="/js/common.js" type="text/javascript"></script>

<body>
  <?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

   <title>é›„çŒ«çš„è‡ªç”±ç©ºé—´</title>
   <link href="http://catname.github.io/atom.xml" rel="self" type="application/atom+xml"/>
   <link href="http://catname.github.io" rel="alternate" type="text/html" />
   <updated>2022-04-12T01:58:37+08:00</updated>
   <id>http://catname.github.io</id>
   <author>
     <name></name>
     <email></email>
   </author>

   
   <entry>
     <title>æ›´å¤šä¿¡æ¯</title>
     <link href="/resume-2022"/>
     <updated>2022-04-11T00:00:00+08:00</updated>
     <id>/resume-2022</id>
     <content type="html">&lt;h2 id=&quot;æ¬¢è¿æ¥åˆ°è¿™é‡Œ&quot;&gt;æ¬¢è¿æ¥åˆ°è¿™é‡Œ~&lt;/h2&gt;

&lt;p&gt;æœ¬äººç›®å‰ä¸»è¦åš PHP åç«¯å¼€å‘ã€‚&lt;/p&gt;

&lt;p&gt;ä»å¤§å­¦å¼€å§‹æ¥è§¦ PHPï¼Œæœ€åˆæ˜¯åœ¨å­¦ä¹  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Web æ¸—é€&lt;/code&gt; æ—¶æ¥è§¦äº† PHPï¼Œè§‰å¾—æœ‰æ„æ€ï¼Œäºæ˜¯æ¯•ä¸šåä¸€ç›´ä»äº‹ PHP å¼€å‘ï¼Œç°åœ¨ä¸»è¦åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LNMP&lt;/code&gt; ç¯å¢ƒä¸‹ï¼Œç”¨ Laravel æ¡†æ¶è¿›è¡Œå‰åç«¯åˆ†ç¦»çš„åº”ç”¨å¼€å‘ï¼Œæœ‰å¼€å‘å¾®ä¿¡å°ç¨‹åºåç«¯ï¼Œå¯¹æ¥å¾®ä¿¡ç™»å½•ï¼Œæ”¯ä»˜ï¼Œæ¨é€æ¶ˆæ¯ï¼Œå¼€å‘é’‰é’‰ç™»å½•ã€é’‰é’‰åº”ç”¨ç¨‹åºã€é’‰é’‰æœºå™¨äººç­‰ç»éªŒã€‚&lt;/p&gt;

&lt;h3 id=&quot;æœ€è¿‘å·¥ä½œ&quot;&gt;æœ€è¿‘å·¥ä½œ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ä½¿ç”¨ Laravel å¼€å‘çˆ¬è™«ï¼Œä»ä¸åŒæ¸ é“è·å–çº¦ 4ä¸‡ æ¡å•†å“æ•°æ®ï¼Œå¹¶å®Œæˆæ•°æ®æ¸…æ´—ï¼Œç­›é€‰ï¼Œæ’åºï¼Œå¯¼å‡º Excel ç­‰å·¥ä½œï¼Œä¸­é—´è§£å†³äº†è¯¸å¦‚äººæœºè¯†åˆ«ï¼Œé“¾æ¥è¶…æ—¶ï¼Œæ•°æ®ä¸€è‡´æ€§ï¼Œå†…å­˜æº¢å‡ºç­‰é—®é¢˜ã€‚å®Œæˆåå®šæ—¶ä»»åŠ¡æ— æ•…éšœä¸€ç›´ç¨³å®šè¿è¡Œã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ä¸ºå·¥å•ç³»ç»Ÿå¼€å‘ SDK Composer åŒ…ï¼Œè®¤è¯æ¨¡å¼ä½¿ç”¨ OAuth 2.0 å‡­è¯æ¨¡å¼ï¼ˆClient Credentialsï¼‰+ ç­¾åã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»£ç éµå¾ª PSR-12 è§„èŒƒã€‚API éµå¾ª RESTful è®¾è®¡ã€‚ç”¨ Git è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é¡¹ç›®è®°å½•&quot;&gt;é¡¹ç›®è®°å½•&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://catname.github.io/laravel-notes&quot;&gt;Laravel å¼€å‘è¸©å‘æ—¥å¸¸è®°å½•&lt;/a&gt; ğŸ‘ˆ ç‚¹æ­¤æŸ¥çœ‹&lt;/p&gt;

&lt;h2 id=&quot;è”ç³»æ–¹å¼&quot;&gt;è”ç³»æ–¹å¼&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Emailï¼štomcath@foxmail.com&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;è‡´è°¢&quot;&gt;è‡´è°¢&lt;/h2&gt;

&lt;p&gt;æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»æˆ‘çš„ç®€å†ï¼ŒæœŸå¾…èƒ½æœ‰æœºä¼šå’Œæ‚¨å…±äº‹ã€‚&lt;/p&gt;
</content>
   </entry>
   
   <entry>
     <title>Laravel å¼€å‘è¸©å‘æ—¥å¸¸è®°å½•</title>
     <link href="/laravel-notes"/>
     <updated>2022-02-01T00:00:00+08:00</updated>
     <id>/laravel notes</id>
     <content type="html">&lt;h3 id=&quot;ä¸€èˆ¬éƒ¨ç½²&quot;&gt;ä¸€èˆ¬éƒ¨ç½²&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1. git clone git@xxx.xxx.com:xxxxx/xxx.git &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;xxx
2. composer &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;3. &lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;env.example env.
4. php artisan key:generate
5. php artisan jwt:secret
6. &lt;span class=&quot;c&quot;&gt;# å¡«å†™å¥½ .env æ–‡ä»¶ä¸­çš„å„é¡¹é…ç½®ï¼Œç‰¹åˆ«æ˜¯æ•°æ®åº“ï¼ŒRedis ç­‰&lt;/span&gt;

   &lt;span class=&quot;c&quot;&gt;# å¼€å‘ç¯å¢ƒè¿è¡Œæ•°æ®åº“è¿ç§»æ–‡ä»¶ å¹¶ä¸”è¿è¡Œå¡«å……æ–‡ä»¶ å¡«å……æµ‹è¯•æ•°æ®&lt;/span&gt;
   &lt;span class=&quot;c&quot;&gt;# æ³¨æ„ï¼è¿è¡Œæ­¤å‘½ä»¤å‰ï¼Œè¯·å…ˆå¤‡ä»½ Laravel-admin ç®¡ç†åå°æ•°æ®ï¼Œå…·ä½“æŸ¥çœ‹æœ¬æ–‡æ¡£-å…¶ä»–æ‚é¡¹&lt;/span&gt;
7. php artisan migrate:refresh &lt;span class=&quot;nt&quot;&gt;--seed&lt;/span&gt;
   &lt;span class=&quot;c&quot;&gt;# æ­£å¼ç¯å¢ƒä¸éœ€è¦å¡«å……æ‰€æœ‰æ•°æ®&lt;/span&gt;
   php artisan migrate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å¼€å‘è§„èŒƒ&quot;&gt;å¼€å‘è§„èŒƒ&lt;/h3&gt;

&lt;p&gt;åœ¨ &lt;a href=&quot;https://learnku.com/docs/laravel-specification/7.x/whats-the-use-of-standards/7588&quot;&gt;Laravel é¡¹ç›®å¼€å‘è§„èŒƒ&lt;/a&gt; çš„åŸºç¡€ä¸Šï¼ŒæŒ‰ä¸‹åˆ—è§„èŒƒè¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ•°æ®åº“&lt;strong&gt;å¿…é¡»&lt;/strong&gt;ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;æ•°æ®åº“è¿ç§»æ–‡ä»¶&lt;/code&gt; åšç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†ï¼Œæ–¹ä¾¿å¤šäººåä½œå¼€å‘å’ŒåæœŸåˆ‡æ¢æ•°æ®åº“éœ€è¦ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰€æœ‰é‡‘é¢ç›¸å…³çš„å­—æ®µï¼Œå­—æ®µç±»å‹ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;int&lt;/code&gt; å•ä½ç»Ÿä¸€ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;åˆ†&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰€æœ‰æ—¶é—´æ“ä½œç»Ÿä¸€ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Carbon&lt;/code&gt; ç±»ã€‚&lt;/li&gt;
  &lt;li&gt;æ¨¡å‹å…³è”åçš„å…³è”æŸ¥è¯¢&lt;strong&gt;å¿…é¡»&lt;/strong&gt;ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;é¢„åŠ è½½ with()&lt;/code&gt; é˜²æ­¢ N+1 é—®é¢˜ï¼Œé™¤éæƒ…å†µä¸å…è®¸ã€‚&lt;/li&gt;
  &lt;li&gt;è·å–å½“å‰è¿è¡Œç¯å¢ƒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app('env')&lt;/code&gt; ã€‚&lt;/li&gt;
  &lt;li&gt;æ·»åŠ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œæ”¾åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/config/&lt;/code&gt; ï¼Œä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config('æ–‡ä»¶å.é”®å')&lt;/code&gt; è·å–ç›¸å¯¹åº”çš„é…ç½®ã€‚&lt;/li&gt;
  &lt;li&gt;è¡¨å•éªŒè¯ç±» ç»Ÿä¸€ç»§æ‰¿ åŸºç±» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BaseRequest&lt;/code&gt; ï¼Œå› ä¸ºåŸºç±»ä¸­é‡å†™äº†è¡¨å•éªŒè¯æœªé€šè¿‡åè¿”å›çš„æ¶ˆæ¯ç»“æ„ã€‚&lt;/li&gt;
  &lt;li&gt;å†™æ—¥å¿—ç”¨ Monolog ï¼Œå¯åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/logging.php&lt;/code&gt; ä¸­è‡ªå®šä¹‰ channel å®ç°ä¸åŒæ–‡ä»¶è®°å½•ä¸åŒæ—¥å¿—ã€‚&lt;/li&gt;
  &lt;li&gt;æ–°å»ºæ—¶é—´ç±»å­—æ®µä½¿ç”¨ datetime ç±»å‹ï¼Œé˜²æ­¢å‡ºç° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Y2K38&lt;/code&gt; é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;åˆå§‹åŒ–&quot;&gt;åˆå§‹åŒ–&lt;/h3&gt;

&lt;h4 id=&quot;ä¿®æ”¹-configappphp-é…ç½®&quot;&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/app.php&lt;/code&gt; é…ç½®&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;

    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default timezone for your application, which
    | will be used by the PHP date and date-time functions. We have gone
    | ahead and set this to a sensible default for you out of the box.
    |
    */&lt;/span&gt;

    &lt;span class=&quot;s1&quot;&gt;'timezone'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Asia/Shanghai'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    |
    | The application locale determines the default locale that will be used
    | by the translation service provider. You are free to set this value
    | to any of the locales which will be supported by the application.
    |
    */&lt;/span&gt;

    &lt;span class=&quot;s1&quot;&gt;'locale'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'zh_CN'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
    |--------------------------------------------------------------------------
    | Application Fallback Locale
    |--------------------------------------------------------------------------
    |
    | The fallback locale determines the locale to use when the current one
    | is not available. You may change the value to correspond to any of
    | the language folders that are provided through your application.
    |
    */&lt;/span&gt;

    &lt;span class=&quot;s1&quot;&gt;'fallback_locale'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'en'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;cm&quot;&gt;/*
    |--------------------------------------------------------------------------
    | Faker Locale
    |--------------------------------------------------------------------------
    |
    | This locale will be used by the Faker PHP library when generating fake
    | data for your database seeds. For example, this will be used to get
    | localized telephone numbers, street address information and more.
    |
    */&lt;/span&gt;

    &lt;span class=&quot;s1&quot;&gt;'faker_locale'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'zh_CN'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ·»åŠ è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°æ–‡ä»¶-apphelpersphp&quot;&gt;æ·»åŠ è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°æ–‡ä»¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/helpers.php&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;composer.json&lt;/code&gt; ä¸­æ·»åŠ ä¸‹é¢å†…å®¹&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;autoload&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;psr-4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;files&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;app/helpers.php&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ·»åŠ åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°åŠ è½½æ–‡ä»¶&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer dump-autoload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;è·¯ç”±åˆ†ç»„&quot;&gt;è·¯ç”±åˆ†ç»„&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Providers/RouteServiceProvider.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;configureRateLimiting&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;base_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'routes/api.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;base_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'routes/common.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'web'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;base_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'routes/web.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è¯·æ±‚&quot;&gt;è¯·æ±‚&lt;/h3&gt;

&lt;h4 id=&quot;è§„èŒƒè¿”å›æ ¼å¼ç»™æ‰€æœ‰-api-è¯·æ±‚åŠ ä¸Šè¯·æ±‚å¤´&quot;&gt;è§„èŒƒè¿”å›æ ¼å¼ï¼Œç»™æ‰€æœ‰ API è¯·æ±‚åŠ ä¸Šè¯·æ±‚å¤´&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;æ–°å»ºä¸­é—´ä»¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AcceptHeader.php&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Request&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Accept'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'application/json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨å†Œä¸­é—´ä»¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Http/Kernel.php&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$middlewareGroups&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'web'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
           &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
   
    &lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;App\Http\Middleware\AcceptHeader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;è·¯ç”±&quot;&gt;è·¯ç”±&lt;/h3&gt;

&lt;h4 id=&quot;æ¨¡å‹å­˜åœ¨å´æŠ›å‡º-no-query-results-for-model-appmodelsxxxx-å¼‚å¸¸&quot;&gt;æ¨¡å‹å­˜åœ¨ï¼Œå´æŠ›å‡º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;No query results for model [App\\Models\\xxxx]&lt;/code&gt; å¼‚å¸¸&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªé€šå¸¸ç”±è·¯ç”±ç»‘å®šå‡ºçš„é—®é¢˜ï¼Œæ³¨æ„æœ‰ç»‘å®šæ¨¡å‹çš„è·¯ç”±ï¼ŒåŒè·¯å¾„çš„è·¯ç”±éœ€è¦æ”¾åœ¨æ²¡ç»‘å®šè·¯ç”±çš„åé¢&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼š/posts/create å’Œ /posts/{post} çš„æ˜¯åŒè·¯å¾„ï¼Œ/posts/{post} å¿…é¡»æ”¾åœ¨ /posts/create åé¢&lt;/p&gt;

&lt;p&gt;ä¸€å®šæ³¨æ„è·¯ç”±çš„å…ˆåé¡ºåº&lt;/p&gt;

&lt;h3 id=&quot;ç®¡é“-pipeline&quot;&gt;ç®¡é“ Pipeline&lt;/h3&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Request&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$pipes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;RemoveBadWords&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ReplaceLinkTags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;RemoveScriptTags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Pipeline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;through&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$pipes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'content'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'content'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// return any type of response&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ä¸­é—´ä»¶&quot;&gt;ä¸­é—´ä»¶&lt;/h3&gt;

&lt;h4 id=&quot;è·å–å½“å‰è¯·æ±‚çš„-url&quot;&gt;è·å–å½“å‰è¯·æ±‚çš„ URL&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ä¸å¸¦ä¸»æœºåŸŸåå’Œå‚æ•°&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;//ç»“æœï¼š api/home/test&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ä¸å¸¦ä¸»æœºåŸŸåï¼Œå¸¦ query å‚æ•°&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getRequestUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ç»“æœï¼š /api/home/test?id=1&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// å¸¦ä¸»æœºåŸŸåï¼Œä¸å¸¦ query å‚æ•°&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;//ç»“æœï¼š http://xxx.test/api/home/test&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// æ³¨æ„æœ€å‰é¢ '/' çš„åŒºåˆ«&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;è·å–å½“å‰è¯·æ±‚çš„-http-method&quot;&gt;è·å–å½“å‰è¯·æ±‚çš„ HTTP Method&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ç»“æœï¼š POST&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ•è·å¼‚å¸¸&quot;&gt;æ•è·å¼‚å¸¸&lt;/h3&gt;

&lt;h4 id=&quot;æ•è·ç¡®åˆ‡çš„æ•°æ®åº“é”™è¯¯&quot;&gt;æ•è·ç¡®åˆ‡çš„æ•°æ®åº“é”™è¯¯&lt;/h4&gt;

&lt;p&gt;å¦‚æœæ‚¨æƒ³æ•è· Eloquent Query å¼‚å¸¸ï¼Œè¯·ä½¿ç”¨ç‰¹å®šçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QueryException&lt;/code&gt; ä»£æ›¿é»˜è®¤çš„ Exception ç±»ï¼Œæ‚¨å°†èƒ½å¤Ÿè·å¾—é”™è¯¯çš„ç¡®åˆ‡ SQL ä»£ç ã€‚&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ä¸€äº› Eloquent/SQL å£°æ˜&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Illuminate\Database\QueryException&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'23000'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// integrity constraint violation&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;back&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Invalid data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ§åˆ¶å™¨&quot;&gt;æ§åˆ¶å™¨&lt;/h3&gt;

&lt;h4 id=&quot;æ¨¡å‹ä¾èµ–æ³¨å…¥&quot;&gt;æ¨¡å‹ä¾èµ–æ³¨å…¥&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;App\Http\Controllers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ExampleController&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Controller&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    	&lt;span class=&quot;c1&quot;&gt;// å¦‚æœéœ€è¦å…³è”æŸ¥è¯¢&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'relation'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æœåŠ¡æä¾›è€…&quot;&gt;æœåŠ¡æä¾›è€…&lt;/h3&gt;

&lt;h4 id=&quot;åˆ›å»º&quot;&gt;åˆ›å»º&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:provider NotificationServiceProvider
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ³¨å†Œ-configappphp&quot;&gt;æ³¨å†Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/app.php&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'providers'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;App\Providers\NotificationServiceProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;ç”¨ä¾‹ç›‘å¬æ—¥å¿—æŒ‡å®šç­‰çº§æ—¥å¿—æ¨é€æ¶ˆæ¯&quot;&gt;ç”¨ä¾‹ï¼šç›‘å¬æ—¥å¿—ï¼ŒæŒ‡å®šç­‰çº§æ—¥å¿—æ¨é€æ¶ˆæ¯&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;App\Providers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;App\Jobs\noticeIssue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Illuminate\Support\ServiceProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NotificationServiceProvider&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServiceProvider&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// è¿™é‡Œç›‘å¬åˆ°æ—¥å¿—åï¼Œåˆ¤æ–­æ—¥å¿—çš„ç­‰çº§ï¼Œç„¶ååšç›¸åº”å¤„ç†&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$noticeMsg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;s1&quot;&gt;'level'&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// æ—¥å¿—çš„ç­‰çº§&lt;/span&gt;
                &lt;span class=&quot;s1&quot;&gt;'message'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s1&quot;&gt;'context'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// æ¨é€æ•°æ®&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;noticeIssue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;onQueue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'issues'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ•°æ®åº“æ“ä½œ&quot;&gt;æ•°æ®åº“æ“ä½œ&lt;/h3&gt;

&lt;h4 id=&quot;æ›´æ–°-json-å­—æ®µ&quot;&gt;æ›´æ–° JSON å­—æ®µ&lt;/h4&gt;

&lt;p&gt;æ›´æ–° JSON å­—æ®µæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-&amp;gt;&lt;/code&gt; è¯­æ³•è®¿é—® JSON å¯¹è±¡ä¸­ç›¸åº”çš„å€¼ã€‚æ³¨æ„ï¼Œæ­¤æ“ä½œåªèƒ½æ”¯æŒ MySQL 5.7+ å’Œ PostgreSQL 9.5+ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$affected&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'users'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'options-&amp;gt;enabled'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;artisan-å‘½ä»¤&quot;&gt;Artisan å‘½ä»¤&lt;/h3&gt;

&lt;h4 id=&quot;å‘½ä»¤ä½¿ç”¨å‚æ•°-è¯¦æƒ…å‚è€ƒ&quot;&gt;å‘½ä»¤ä½¿ç”¨å‚æ•° &lt;a href=&quot;https://learnku.com/docs/laravel/8.5/artisan/10381#arguments&quot;&gt;è¯¦æƒ…å‚è€ƒ&lt;/a&gt;&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;App\Console\Commands&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Illuminate\Console\Command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Illuminate\Support\Facades\Cache&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Test&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Command&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$signature&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'example:test {--test}'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'å‚æ•°ç¤ºèŒƒ'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// è·å–é€‰é¡¹çš„å€¼&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$option&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'test'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// $this-&amp;gt;argument('argument') è·å–å‚æ•°çš„å€¼&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é›†åˆ&quot;&gt;é›†åˆ&lt;/h3&gt;

&lt;h4 id=&quot;ä¸¾ä¾‹&quot;&gt;ä¸¾ä¾‹&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shouldPassThrough&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// ä¸‹é¢è¿™äº›è·¯ç”±ä¸éªŒè¯æƒé™&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$excepts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;array_merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'admin.auth.excepts'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'authorizations'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç™»å½•&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'authorizations/current'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// åˆ·æ–° Token // æ³¨é”€&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$excepts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'admin_base_path'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// åŠ ä¸Šå‰ç¼€&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// å»æ‰æœ€å‰é¢çš„ '/'&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$except&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$except&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;map&quot;&gt;map&lt;/h5&gt;

&lt;h5 id=&quot;contains&quot;&gt;contains&lt;/h5&gt;

&lt;h3 id=&quot;é˜Ÿåˆ—&quot;&gt;é˜Ÿåˆ—&lt;/h3&gt;

&lt;h4 id=&quot;æ‰‹åŠ¨å¤±è´¥&quot;&gt;æ‰‹åŠ¨å¤±è´¥&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'é˜Ÿåˆ—å¤±è´¥ã€‚'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;orm-æ¨¡å‹&quot;&gt;ORM æ¨¡å‹&lt;/h3&gt;

&lt;h4 id=&quot;æ ¹æ®å­è¡¨çš„å€¼ç­›é€‰ä¸»è¡¨çš„é¡¹-model-with-wherehas-&quot;&gt;æ ¹æ®å­è¡¨çš„å€¼ç­›é€‰ä¸»è¡¨çš„é¡¹ Model-&amp;gt;with()-&amp;gt;whereHas() *&lt;/h4&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$permissions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    			&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'roles.permissions:id,name,title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    			&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;whereHas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'roles'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Builder&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            		&lt;span class=&quot;nv&quot;&gt;$query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'model_id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
                          &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        		&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¡¨åœ¨ åªæœ‰å­—è¡¨ä¸­ model_id ä¸ºæŒ‡å®šå€¼æ—¶æ‰ä¼šè¢«æŸ¥å‡ºæ¥ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åµŒå¥—é¢„åŠ è½½&quot;&gt;åµŒå¥—é¢„åŠ è½½&lt;/h4&gt;

&lt;p&gt;åœ¨ä¸€ä¸ª Eloquent è¯­å¥ä¸­é¢„åŠ è½½æ‰€æœ‰ä¹¦ç±ä½œè€…åŠå…¶è”ç³»æ–¹å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$books&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Book&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'author.contacts'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;book çš„å…³è” author çš„å…³è” contacts&lt;/p&gt;

&lt;h4 id=&quot;å¤šå¯¹å¤šå…³è”&quot;&gt;å¤šå¯¹å¤šå…³è”&lt;/h4&gt;

&lt;p&gt;ç»™å½“å‰é¡¹ç›®æ·»åŠ ç”¨æˆ· id ä¸º 1 çš„ä¸­é—´å…³è”æ•°æ®ï¼Œå¹¶ä¸”é™„åŠ  user_type å­—æ®µ&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$project&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;allusers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;attach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'user_type'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ é™¤ç”¨æˆ· id ä¸º 1 çš„ä¸­é—´å…³è”æ•°æ®ï¼Œæ³¨æ„ï¼Œå½“å‰é¡¹ç›®ä¸‹æ‰€æœ‰ id ä¸º 1 çš„éƒ½ä¼šè¢«åˆ é™¤ï¼Œ&lt;strong&gt;ä¸é€‚ç”¨äºä¸€ä¸ªé¡¹ç›®ä¸‹æœ‰å¤šä¸ªä¸åŒ user_type ä½†ç›¸åŒç”¨æˆ· id çš„æƒ…å†µ&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$project&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;allusers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;detach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç”¨æˆ·æˆæƒç­–ç•¥ç±»-policy&quot;&gt;ç”¨æˆ·æˆæƒç­–ç•¥ç±» (Policy)&lt;/h3&gt;

&lt;p&gt;å¿…é¡»åœ¨åŒåæ§åˆ¶å™¨ä¸­æ‰ä¼šç”Ÿæ•ˆï¼Ÿï¼Ÿ&lt;/p&gt;

&lt;h4 id=&quot;æ³¨æ„ç¥å‘å¦‚æœåœ¨ç”¨æˆ·æˆæƒç­–ç•¥ç±»ä¸­æŸ¥è¯¢è¿‡å…³è”æ¨¡å‹é‚£ä¹ˆå…³è”æ¨¡å‹ä¼šè¢«åŠ å…¥ç»“æœé›†ä¸­éœ€è¦åœ¨è¿”å›å‰è°ƒç”¨-model-unsetrelationrelationname-å»æ‰&quot;&gt;æ³¨æ„ç¥å‘ï¼ï¼å¦‚æœåœ¨ç”¨æˆ·æˆæƒç­–ç•¥ç±»ä¸­æŸ¥è¯¢è¿‡å…³è”æ¨¡å‹ï¼Œé‚£ä¹ˆå…³è”æ¨¡å‹ä¼šè¢«åŠ å…¥ç»“æœé›†ä¸­ï¼Œéœ€è¦åœ¨è¿”å›å‰è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$model-&amp;gt;unsetRelation('relationName')&lt;/code&gt; å»æ‰ã€‚&lt;/h4&gt;

&lt;h3 id=&quot;æ¨¡å‹è§‚å¯Ÿè€…-observer&quot;&gt;&lt;a href=&quot;https://learnku.com/docs/laravel/8.5/eloquent/10409#cab083&quot;&gt;æ¨¡å‹è§‚å¯Ÿè€… (Observer)&lt;/a&gt;&lt;/h3&gt;

&lt;h4 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨&lt;/h4&gt;

&lt;p&gt;ç”Ÿæˆè§‚å¯Ÿè€…ç±»&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:observer UserObserver &lt;span class=&quot;nt&quot;&gt;--model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;User
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AppServiceProvider&lt;/code&gt; æœåŠ¡æä¾›è€…ä¸­æ³¨å†Œè§‚å¯Ÿè€…&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;App\Models\User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;App\Observers\UserObserver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;cd&quot;&gt;/**
 * Register any events for your application.
 *
 * @return void
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;UserObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;è°ƒç”¨é¡ºåº&quot;&gt;è°ƒç”¨é¡ºåº&lt;/h4&gt;

&lt;p&gt;modelA&lt;br /&gt;
ObserverA&lt;/p&gt;

&lt;p&gt;ç›‘å¬ modelA çš„ created äº‹ä»¶&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;MODELA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;next&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®é™…è¿è¡Œé¡ºåº&lt;br /&gt;
create-&amp;gt;observer-&amp;gt;next&lt;/p&gt;

&lt;h4 id=&quot;è¸©è¿‡çš„å‘&quot;&gt;è¸©è¿‡çš„å‘&lt;/h4&gt;

&lt;h5 id=&quot;å‘1&quot;&gt;å‘1&lt;/h5&gt;

&lt;h6 id=&quot;é—®é¢˜åœºæ™¯å·¥å•ç³»ç»Ÿå¾®ä¿¡ç™»å½•è¿”å›é¢„æœŸå¤–æ•°æ®å‰å°ç”¨æˆ·ç™»å½•ä¸€åˆ‡æ­£å¸¸åå°ç”¨æˆ·ç™»å½•ä¼šå¤šè¿”å›åå°ç”¨æˆ·çš„è§’è‰²ä¿¡æ¯ä½†æ˜¯ç™»å½•æ§åˆ¶å™¨é‡Œé¢æ²¡æœ‰ä»»ä½•å’Œ-roles-æœ‰å…³çš„ä»£ç &quot;&gt;é—®é¢˜åœºæ™¯ï¼šå·¥å•ç³»ç»Ÿå¾®ä¿¡ç™»å½•è¿”å›é¢„æœŸå¤–æ•°æ®ï¼Œå‰å°ç”¨æˆ·ç™»å½•ä¸€åˆ‡æ­£å¸¸ï¼Œåå°ç”¨æˆ·ç™»å½•ä¼šå¤šè¿”å›åå°ç”¨æˆ·çš„è§’è‰²ä¿¡æ¯ï¼Œä½†æ˜¯ç™»å½•æ§åˆ¶å™¨é‡Œé¢æ²¡æœ‰ä»»ä½•å’Œ roles æœ‰å…³çš„ä»£ç &lt;/h6&gt;

&lt;p&gt;å‰å°æ™®é€šç”¨æˆ·ç™»å½•åè¿”å›ï¼š&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ç™»å½•æˆåŠŸ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;access_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvaXNzdWVjcy5xaWZ1eGlvbmcuY29tXC9hcGlcL3dlY2hhdFwvYXV0aG9yaXphdGlvbnMiLCJpYXQiOjE2Mzk5OTI2NTgsImV4cCI6MTYzOTk5OTg1OCwibmJmIjoxNjM5OTkyNjU4LCJqdGkiOiJoc1NLMFptRGRrZGl0RDlRIiwic3ViIjoxNCwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyIsInJvbGUiOiJ1c2VyIn0.GEUahFc4XlxaFvdV4MclSJ4CvLCCdOKKJGQwvZ04I5s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;token_type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;expires&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1639999858&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;is_binding_mobile&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;is_staff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;userInfo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;nick_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;æ˜µç§°&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;real_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ç‹è€äº”&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;mobile&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;18888888888&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;account_status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;avatar_url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW5y4zFjzWy3SvYN1KRHQYLTKGnbUanOfBeW4sR0z6ZyNBgtCVmOceicTlnyBcaTPbWA/132&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;gender&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;company&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;æˆéƒ½å¸‚ä¼æœç†Šç§‘æŠ€æœ‰é™å…¬å¸&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;job&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;PHPåç«¯&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;created_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-20 16:26:37&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;updated_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-20 17:30:58&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åå°ç”¨æˆ·å¾®ä¿¡ç™»å½•åè¿”å›&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;messages&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ç™»å½•æˆåŠŸ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;access_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvaXNzdWVjcy5xaWZ1eGlvbmcuY29tXC9hcGlcL3dlY2hhdFwvYXV0aG9yaXphdGlvbnMiLCJpYXQiOjE2Mzk5OTI2NTgsImV4cCI6MTYzOTk5OTg1OCwibmJmIjoxNjM5OTkyNjU4LCJqdGkiOiJoc1NLMFptRGRrZGl0RDlRIiwic3ViIjoxNCwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyIsInJvbGUiOiJ1c2VyIn0.GEUahFc4XlxaFvdV4MclSJ4CvLCCdOKKJGQwvZ04I5s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;token_type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;expires&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1639999858&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;is_binding_mobile&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;is_staff&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;userInfo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;nick_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;æ˜µç§°&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;real_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ç‹è€äº”&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;mobile&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;18888888888&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;account_status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;avatar_url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW5y4zFjzWy3SvYN1KRHQYLTKGnbUanOfBeW4sR0z6ZyNBgtCVmOceicTlnyBcaTPbWA/132&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;gender&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;company&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;æˆéƒ½å¸‚ä¼æœç†Šç§‘æŠ€æœ‰é™å…¬å¸&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;job&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;PHPåç«¯&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;created_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-20 16:26:37&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;updated_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-20 17:30:58&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;roles&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;basicUser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;åŸºç¡€ç”¨æˆ·&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;guard_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;api&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;created_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-17 16:36:08&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;updated_at&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2021-12-17 16:36:08&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;pivot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;model_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;role_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                          &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;model_type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;App&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Models&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;User&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h6 id=&quot;äº§ç”ŸåŸå› &quot;&gt;äº§ç”ŸåŸå› &lt;/h6&gt;

&lt;p&gt;åå°æœ‰ä¸€ä¸ªåŸºç¡€ç”¨æˆ·æƒé™ï¼Œåœ¨æ·»åŠ å’Œæ›´æ–°ç”¨æˆ·çš„æ—¶å€™ä¼šé€šè¿‡ç”¨æˆ·æ¨¡å‹ç›‘å¬å™¨ç›‘å¬åˆ°äº‹ä»¶ï¼Œç„¶åæ·»åŠ æƒé™ï¼Œäº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› åœ¨ æ›´æ–°äº‹ä»¶ï¼Œç›‘å¬åˆ°æ›´æ–°äº‹ä»¶åï¼Œä¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰åŸºç¡€æƒé™ï¼Œå¦‚æœæ²¡æœ‰åˆ™åŠ ä¸Šï¼Œåœ¨æ£€æŸ¥ä¹‹åï¼Œä¼šå°† roles åŠ å…¥åˆ° user çš„ç»“æœé›†ä¸­ã€‚&lt;/p&gt;

&lt;h6 id=&quot;è§£å†³åŠæ³•&quot;&gt;è§£å†³åŠæ³•&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨æ¨¡å‹ç›‘å¬å™¨æ›´æ–°äº‹ä»¶ä¸­ï¼Œå¤„ç†å®Œåï¼Œæ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$model-&amp;gt;unsetRelation('roles');&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨ä¸éœ€è¦è¿”å› roles çš„åœ°æ–¹ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$model-&amp;gt;unsetRelation('roles');&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ¨èä½¿ç”¨æ–¹æ³• 1&lt;/p&gt;

&lt;h3 id=&quot;composer&quot;&gt;Composer&lt;/h3&gt;

&lt;h4 id=&quot;çº¿ä¸ŠæœåŠ¡å™¨æ›´æ–°æŒ‡å®š-composer-åŒ…&quot;&gt;çº¿ä¸ŠæœåŠ¡å™¨æ›´æ–°æŒ‡å®š Composer åŒ…&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨æœ¬åœ°è¿è¡Œ&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer update xxx/xxxxxxxx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å°†æ›´æ–°åçš„  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;composer.lock&lt;/code&gt; æ–‡ä»¶æäº¤åˆ°æœåŠ¡å™¨&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æœåŠ¡å™¨ç»ˆç«¯è¿è¡Œ&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;é’‰é’‰&quot;&gt;é’‰é’‰&lt;/h3&gt;

&lt;h4 id=&quot;å•èŠæœºå™¨äºº&quot;&gt;å•èŠæœºå™¨äºº&lt;/h4&gt;

&lt;p&gt;æŒ‰æ–‡æ¡£ä¼ å‚æ•°ä¼šæç¤ºï¼šå‘é€å¯äº¤äº’å¡ç‰‡çš„æ—¶å€™æç¤º éåœºæ™¯ç¾¤ï¼›&lt;/p&gt;

&lt;p&gt;è§£å†³æ–¹æ³•ï¼šæœºå™¨äººåº”è¯¥ç”¨   appKey ï¼šæœºå™¨äººappKey&lt;/p&gt;

&lt;h4 id=&quot;å›è°ƒäº‹ä»¶åŠ è§£å¯†&quot;&gt;å›è°ƒäº‹ä»¶åŠ è§£å¯†&lt;/h4&gt;

&lt;h5 id=&quot;äº‹ä»¶è®¢é˜…æ³¨å†Œ&quot;&gt;äº‹ä»¶è®¢é˜…æ³¨å†Œ&lt;/h5&gt;

&lt;p&gt;åœ¨æ³¨å†Œæ—¶ä¸è¦æŒ‰ç…§æ–‡æ¡£è¯´çš„ç”¨ä¼ä¸š corpIdï¼Œè€Œæ˜¯ç”¨è‡ªå»ºåº”ç”¨çš„ appKeyï¼Œå¦åˆ™ä¼šæŠ¥ AES è§£å¯†é”™è¯¯&lt;/p&gt;

&lt;p&gt;æ³¨å†Œä»£ç &lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;$crypt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DingCallbackCrypto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$crypt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getDecryptMsg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg_signature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nonce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'hotlog'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$crypt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getEncryptedMap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//return response($res);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;json_decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å…¶ä»–æ‚é¡¹æŠ€å·§&quot;&gt;å…¶ä»–æ‚é¡¹ï¼ŒæŠ€å·§&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;æœ¬åœ°å¼€å‘è°ƒæ¥å£çš„æ—¶å€™ï¼Œéœ€è¦å¸¦ä¸Š JWT-Token ,å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ Artisan å‘½ä»¤ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php artisan&lt;/code&gt; å‘½ä»¤å¯ä»¥çœ‹åˆ°å½“å‰æ‰€æœ‰çš„ artisan å‘½ä»¤ï¼‰ç”Ÿæˆæœ‰æ•ˆæœŸä¸€å¹´çš„JWT-Tokenï¼Œå°† Token å­˜å…¥å¼€å‘ç¯å¢ƒå˜é‡ä¸­ï¼ˆ Postman ç­‰ï¼‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è·å–è‡ªå·±ï¼ˆæœåŠ¡ç«¯ï¼‰çš„ IP åœ°å€ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\request()-&amp;gt;server('SERVER_ADDR');&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æœ¬åœ°å¼€å‘è‡ªå®šä¹‰ç½‘å€çš„æ—¶å€™ä¸èƒ½ä»¥ .dev ç»“å°¾ï¼Œå¦åˆ™ Chrome ä¼šå¼ºåˆ¶è·³è½¬ https æŠ¥è¯ä¹¦é”™è¯¯ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨è¿è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php artisan migrate:refresh --seed&lt;/code&gt; ä¹‹å‰ï¼Œæ³¨æ„å¤‡ä»½ laravel-admin åå°æ•°æ® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php artisan admin:export-seed&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨æ„åœ¨éœ€è¦ç™»å½•çŠ¶æ€çš„æ§åˆ¶å™¨çš„æ„é€ æ–¹æ³•ä¸­åŠ è½½ api ä¸­é—´ä»¶ï¼ˆå¦‚æœè·¯ç”±ä¸­å·²ç»åŠ è½½ auth:api ä¸­é—´ä»¶ï¼Œåˆ™ä¸éœ€è¦åœ¨æ§åˆ¶å™¨ä¸­å•ç‹¬åŠ è½½ï¼‰ï¼Œè¿™æ ·æˆæƒç­–ç•¥ç±»ç­‰ï¼Œæ‰èƒ½é€šè¿‡ JWT-Token è·å–åˆ°å½“å‰ç™»å½•çš„ç”¨æˆ· &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$this-&amp;gt;middleware('auth:api');&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è¿”å›ç”¨æˆ·ä¿¡æ¯ç›¸å…³ï¼Œç»Ÿä¸€ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UserResource&lt;/code&gt; å¯¹æ•æ„Ÿä¿¡æ¯è¿›è¡Œäº†è„±æ•ï¼Œå¦‚æœå› ä¸ºä¸šåŠ¡éœ€è¦ï¼Œå¯ä»¥è¿™æ ·æ˜¾ç¤ºæ•æ„Ÿä¿¡æ¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;return (new UserResource($user))-&amp;gt;additional(['code' =&amp;gt; 200, 'messages' =&amp;gt; 'success'])-&amp;gt;showSensitiveFields();&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ï¼ï¼æ³¨æ„è®¿é—®å™¨è¿™ä¸ªå¤©å‘ï¼ï¼å¼ºçƒˆå»ºè®®æ‰€æœ‰ status ç›¸å…³çš„åˆ¤æ–­éƒ½ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getRawOriginal()&lt;/code&gt; è·å–åŸå§‹å€¼ï¼Œé¿å…å› ä¸ºæœ‰è®¿é—®å™¨å¯¼è‡´åˆ¤æ–­é”™è¯¯ï¼Œä¸šåŠ¡å‡ºç° bug ã€‚åœ¨ Laravel 7 ä»¥åï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨è®¿é—®å™¨è¿”å›çš„æ•°æ®ï¼Œå¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$model-&amp;gt;getRawOriginal('å­—æ®µå')&lt;/code&gt; è·å–åŸå§‹æ•°æ®ã€‚(Laravel 7 ä¹‹å‰çš„ç‰ˆæœ¬æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getOriginal()&lt;/code&gt; )ï¼Œé€šè¿‡å…³è”æ¨¡å‹æŸ¥è¯¢ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$model-&amp;gt;relationships-&amp;gt;getRawOriginal('å­—æ®µå')&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨æ„ Laravel-Admin å¯èƒ½ä¼šå ç”¨ åä¸º admin çš„ guard ï¼Œå¦‚æœè¦æ–°å¢è‡ªå®šä¹‰ guard ï¼Œé¿å…ä½¿ç”¨ admin è¿™ä¸ªåå­—ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨æ„åœ¨è¿”å›æ¨¡å‹å‰ï¼Œå¦‚æœå¯¹æ¨¡å‹è¿›è¡Œè¿‡å…³è”æŸ¥è¯¢ï¼Œå…³è”æŸ¥è¯¢çš„æ•°æ®ä¼šè¢«æ·»åŠ åˆ°æ¨¡å‹ä¸­ï¼Œå¦‚æœåé¢ä¸éœ€è¦è¿™äº›æ•°æ®ï¼Œè®°å¾—åœ¨å…³è”æŸ¥è¯¢å®Œæˆåï¼Œç›´æ¥è°ƒç”¨ unsetRelation()ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Carbon::now()-&amp;gt;getPreciseTimestamp()&lt;/code&gt; å¯ä»¥è·å–æŒ‡å®šç²¾åº¦çš„æ—¶é—´æˆ³ã€‚&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/*
* @example getPreciseTimestamp()   1532087464437474 (å¾®ç§’æœ€å¤§ç²¾åº¦)
* @example getPreciseTimestamp(6)  1532087464437474
* @example getPreciseTimestamp(5)  153208746443747  (1/100000 ç§’ç²¾åº¦)
* @example getPreciseTimestamp(4)  15320874644375   (1/10000 ç§’ç²¾åº¦)
* @example getPreciseTimestamp(3)  1532087464437    (æ¯«ç§’ precision)
* @example getPreciseTimestamp(2)  153208746444     (1/100 ç§’ç²¾åº¦)
* @example getPreciseTimestamp(1)  15320874644      (1/10 ç§’ç²¾åº¦)
* @example getPreciseTimestamp(0)  1532087464       (ç§’ç²¾åº¦)
* @example getPreciseTimestamp(-1) 153208746        (10 ç§’ç²¾åº¦)
* @example getPreciseTimestamp(-2) 15320875         (100 ç§’ç²¾åº¦)
*/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¦‚æœéœ€è¦åŒæ ·å†…å®¹åœ¨è¡¨ä¸­åªæœ‰ä¸€æ¡æ•°æ®ï¼Œå¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;firstOrCreate()&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// æŒ‰åç§°æ£€ç´¢èˆªç­æˆ–åœ¨å®ƒä¸å­˜åœ¨æ—¶åˆ›å»ºå®ƒ...&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$flight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Flight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;firstOrCreate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'London to Paris'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç‰¹åˆ«æ³¨æ„ï¼šçº¿ä¸Šç¯å¢ƒï¼Œç”¨å®å¡”é¢æ¿åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæ‰§è¡Œ airtisan å‘½ä»¤å‡ºç°é”™è¯¯ï¼Œæ—¥å¿—æ–‡ä»¶ä¼šç”¨ root çš„èº«ä»½åˆ›å»ºï¼Œå¯¼è‡´è¿è¡Œåœ¨ www çš„ä»£ç æ²¡æœ‰æƒé™è¿›è¡Œè¯»å†™ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä¾èµ–æ³¨å…¥&quot;&gt;ä¾èµ–æ³¨å…¥&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å½“Aç±»éœ€è¦ä¾èµ–äºBç±»ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦åœ¨Aç±»ä¸­å®ä¾‹åŒ–Bç±»çš„å¯¹è±¡æ¥ä½¿ç”¨æ—¶å€™ï¼Œå¦‚æœBç±»ä¸­çš„åŠŸèƒ½å‘ç”Ÿæ”¹å˜ï¼Œä¹Ÿä¼šå¯¼è‡´Aç±»ä¸­ä½¿ç”¨Bç±»çš„åœ°æ–¹ä¹Ÿè¦è·Ÿç€ä¿®æ”¹ï¼Œå¯¼è‡´Aç±»ä¸Bç±»é«˜è€¦åˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¾èµ–æ³¨å…¥æœ¬è´¨æ˜¯åœ¨å¤–éƒ¨å°† B ç±»å®ä¾‹åŒ–åï¼Œå†ä¼ åˆ° A ç±»ï¼Œè¿™æ ·å¯¹ B ç±»çš„ä¿®æ”¹æ‰©å±•ï¼Œä¸ç”¨æ”¹ A çš„ä»£ç ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä¸éœ€è¦è‡ªå·±å†…å®¹ä¿®æ”¹ï¼Œæ”¹æˆç”±å¤–éƒ¨ä¼ é€’ã€‚è¿™ç§ç”±å¤–éƒ¨è´Ÿè´£å…¶ä¾èµ–éœ€æ±‚çš„è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ç§°å…¶ä¸º â€œæ§åˆ¶åè½¬ï¼ˆIoCï¼‰â€ã€‚&lt;/p&gt;

  &lt;p&gt;é‚£ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥å‘¢ï¼Ÿï¼Œå…¶å®ä¸Šé¢çš„ä¾‹å­ä¹Ÿç®—æ˜¯ä¾èµ–æ³¨å…¥ï¼Œä¸æ˜¯ç”±è‡ªå·±å†…éƒ¨ new å¯¹è±¡æˆ–è€…å®ä¾‹ï¼Œé€šè¿‡æ„é€ å‡½æ•°ï¼Œæˆ–è€…æ–¹æ³•ä¼ å…¥çš„éƒ½å±äº ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://learnku.com/docs/laravel-core-concept/5.5/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5,%E6%8E%A7%E5%88%B6%E7%BF%BB%E8%BD%AC,%E5%8F%8D%E5%B0%84/3017&quot;&gt;æ›´å¤š&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;æœåŠ¡å®¹å™¨&quot;&gt;æœåŠ¡å®¹å™¨&lt;/h3&gt;

&lt;p&gt;TODO&lt;/p&gt;

&lt;h3 id=&quot;laravel-permission&quot;&gt;Laravel-Permission&lt;/h3&gt;

&lt;h4 id=&quot;ç»™è§’è‰²åŒæ­¥æƒé™&quot;&gt;ç»™è§’è‰²åŒæ­¥æƒé™&lt;/h4&gt;

&lt;p&gt;å‰ç«¯ç”¨ Json ä¼ å…¥éœ€è¦åŒæ­¥çš„å…¨éƒ¨ Idï¼Œé€šè¿‡ whereIn() è¿‡æ»¤æ‰ Id ä¸å­˜åœ¨çš„æƒé™&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syncPermissions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Role&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Request&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// TODO è¡¨å•éªŒè¯&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$permissionIds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;json_decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permissionIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$permissions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Permission&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;whereIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$permissionIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// å°†å¤šä¸ªæƒé™åŒæ­¥åˆ°ä¸€ä¸ªè§’è‰²&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$role&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;syncPermissions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$permissions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'errors'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;notice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'[è§’è‰²æƒé™]ç»™è§’è‰²('&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$role&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;')æ·»åŠ æƒé™('&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permissionIds&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;')æ—¶å‡ºé”™ï¼Œé”™è¯¯æç¤ºï¼š'&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'code'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'messages'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æ·»åŠ å¤±è´¥'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'data'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'code'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'messages'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'è§’è‰²æ·»åŠ æƒé™æˆåŠŸ'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'data'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;çˆ¬è™«ç›¸å…³&quot;&gt;çˆ¬è™«ç›¸å…³&lt;/h3&gt;

&lt;h4 id=&quot;http2&quot;&gt;HTTP/2&lt;/h4&gt;

&lt;h5 id=&quot;ç‰¹å¾&quot;&gt;ç‰¹å¾&lt;/h5&gt;

&lt;div class=&quot;language-http highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;:authority: pc.api.longyiyy.com 
:method: GET
:path: /api/goods/list?page=1&amp;amp;category_id=&amp;amp;sort=&amp;amp;order=&amp;amp;is_activity=0&amp;amp;is_youx=&amp;amp;is_xy=&amp;amp;no_image=0
:scheme: https
accept: application/json, text/plain, */*
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;HTTP/2 æœ€æ˜æ˜¾çš„ç‰¹å¾å°±æ˜¯ä»æµè§ˆå™¨ Header å¤´é‡Œé¢å¯ä»¥çœ‹åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:&lt;/code&gt;å¼€å¤´çš„ä¼ª Header å¤´ï¼Œç”¨ PHP Guzzle è¯·æ±‚çš„æ—¶å€™ï¼Œä¸éœ€è¦åœ¨ Header å¤´é‡Œé¢åŠ å…¥ä¼ª Header å¤´ï¼Œåªéœ€è¦åœ¨è¯·æ±‚é€‰é¡¹ä¸­ï¼Œè®¾å®šä½¿ç”¨ HTTP/2 åè®®ã€‚&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withHeaders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
			&lt;span class=&quot;s1&quot;&gt;'accept'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'application/json, text/plain, */*'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'accept-encoding'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'gzip, deflate, br'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'accept-language'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'zh-CN,zh;q=0.9'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'cookie'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'origin'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-ch-ua'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-ch-ua-mobile'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-ch-ua-platform'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-fetch-dest'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-fetch-mode'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'sec-fetch-site'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'user-agent'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'...'&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'version'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;excel&quot;&gt;Excel&lt;/h3&gt;

&lt;h4 id=&quot;å¯¼å‡º-excel&quot;&gt;å¯¼å‡º Excel&lt;/h4&gt;

&lt;h5 id=&quot;laravel-excel&quot;&gt;&lt;a href=&quot;https://docs.laravel-excel.com/3.1/getting-started/&quot;&gt;Laravel Excel&lt;/a&gt;&lt;/h5&gt;

&lt;p&gt;å®‰è£…æ‰©å±•åŒ…&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require maatwebsite/excel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ›å»ºè¾“å‡ºç±»&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:export ExampleExport &lt;span class=&quot;nt&quot;&gt;--model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Example
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Exports/ExampleExport.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;App\Exports&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;App\Models\Example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Maatwebsite\Excel\Concerns\FromCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Maatwebsite\Excel\Concerns\WithColumnWidths&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Maatwebsite\Excel\Concerns\WithHeadings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Maatwebsite\Excel\Concerns\WithMapping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ProductsExport&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FromCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WithColumnWidths&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WithHeadings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WithMapping&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// è·å–æ•°æ®&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$collections&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// æŒ‡å®šåˆ—çš„å®½åº¦ï¼Œå•ä½ä¸æ˜¯åƒç´ &lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;columnWidths&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;array&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'A'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'B'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// æŒ‡å®šæ¯ä¸€åˆ—å¯¹åº”çš„æ•°æ®æº&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;array&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;licenseNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// æ ‡é¢˜&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;headings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;array&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'å•†å“ç¼–å·'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'å•†å“æ¡ç '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¼å‡ºåˆ°ç£ç›˜&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Excel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ExampleExport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'examples_'&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'.xlsx'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ§åˆ¶å™¨ä¸­å¯¼å‡ºä¸‹è½½&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Excel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ExampleExport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'examples.xlsx'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.laravel-excel.com/3.1/exports/&quot;&gt;æ›´å¤šå¯¼å‡ºè¯¦æƒ…&lt;/a&gt;&lt;/p&gt;

</content>
   </entry>
   
   <entry>
     <title>BBS API å¼€å‘ç¬”è®°</title>
     <link href="/BBS-api-note-2020"/>
     <updated>2020-12-30T00:00:00+08:00</updated>
     <id>/BBS-api-note-2020</id>
     <content type="html">&lt;h2 id=&quot;restful-api&quot;&gt;RESTful API&lt;/h2&gt;

&lt;p&gt;ç”¨ URL å®šä½èµ„æºï¼Œç”¨ HTTP åŠ¨è¯æè¿°æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&quot;url-å®šä½èµ„æº&quot;&gt;URL å®šä½èµ„æº&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET /issues                                      åˆ—å‡ºæ‰€æœ‰çš„ issue
GET /orgs/:org/issues                            åˆ—å‡ºæŸä¸ªé¡¹ç›®çš„ issue
GET /repos/:owner/:repo/issues/:number           è·å–æŸä¸ªé¡¹ç›®çš„æŸä¸ª issue
POST /repos/:owner/:repo/issues                  ä¸ºæŸä¸ªé¡¹ç›®åˆ›å»º issue
PATCH /repos/:owner/:repo/issues/:number         ä¿®æ”¹æŸä¸ª issue
PUT /repos/:owner/:repo/issues/:number/lock      é”ä½æŸä¸ª issue
DELETE /repos/:owner/:repo/issues/:number/lock   è§£é”æŸä¸ª issue
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;http-åŠ¨è¯æè¿°æ“ä½œ&quot;&gt;HTTP åŠ¨è¯æè¿°æ“ä½œ&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;åŠ¨è¯&lt;/th&gt;
      &lt;th&gt;æè¿°&lt;/th&gt;
      &lt;th&gt;æ˜¯å¦å¹‚ç­‰&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;GET&lt;/td&gt;
      &lt;td&gt;è·å–èµ„æºï¼Œå•ä¸ªæˆ–å¤šä¸ª&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;POST&lt;/td&gt;
      &lt;td&gt;åˆ›å»ºèµ„æº&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;PUT&lt;/td&gt;
      &lt;td&gt;æ›´æ–°èµ„æºï¼Œå®¢æˆ·ç«¯æä¾›å®Œæ•´çš„èµ„æºæ•°æ®&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;PATCH&lt;/td&gt;
      &lt;td&gt;æ›´æ–°èµ„æºï¼Œå®¢æˆ·ç«¯æä¾›éƒ¨åˆ†çš„èµ„æºæ•°æ®&lt;/td&gt;
      &lt;td&gt;å¦&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DELETE&lt;/td&gt;
      &lt;td&gt;åˆ é™¤èµ„æº&lt;/td&gt;
      &lt;td&gt;æ˜¯&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;çŠ¶æ€ç &quot;&gt;çŠ¶æ€ç &lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;200 OK - å¯¹æˆåŠŸçš„ GETã€PUTã€PATCH æˆ– DELETE æ“ä½œè¿›è¡Œå“åº”ã€‚ä¹Ÿå¯ä»¥è¢«ç”¨åœ¨ä¸åˆ›å»ºæ–°èµ„æºçš„ POST æ“ä½œä¸Šã€‚&lt;/li&gt;
  &lt;li&gt;201 Created - å¯¹åˆ›å»ºæ–°èµ„æºçš„ POST æ“ä½œè¿›è¡Œå“åº”ã€‚åº”è¯¥å¸¦ç€æŒ‡å‘æ–°èµ„æºåœ°å€çš„ Location å¤´ã€‚&lt;/li&gt;
  &lt;li&gt;202 Accepted - æœåŠ¡å™¨æ¥å—äº†è¯·æ±‚ï¼Œä½†æ˜¯è¿˜æœªå¤„ç†ï¼Œå“åº”ä¸­åº”è¯¥åŒ…å«ç›¸åº”çš„æŒ‡ç¤ºä¿¡æ¯ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯è¯¥å»å“ªé‡ŒæŸ¥è¯¢å…³äºæœ¬æ¬¡è¯·æ±‚çš„ä¿¡æ¯ã€‚&lt;/li&gt;
  &lt;li&gt;204 No Content - å¯¹ä¸ä¼šè¿”å›å“åº”ä½“çš„æˆåŠŸè¯·æ±‚è¿›è¡Œå“åº”ï¼ˆæ¯”å¦‚ DELETE è¯·æ±‚ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;304 Not Modified - HTTP ç¼“å­˜ header ç”Ÿæ•ˆçš„æ—¶å€™ç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;400 Bad Request - è¯·æ±‚å¼‚å¸¸ï¼Œæ¯”å¦‚è¯·æ±‚ä¸­çš„ body æ— æ³•è§£æã€‚&lt;/li&gt;
  &lt;li&gt;401 Unauthorized - æ²¡æœ‰è¿›è¡Œè®¤è¯æˆ–è€…è®¤è¯éæ³•ã€‚&lt;/li&gt;
  &lt;li&gt;403 Forbidden - æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚&lt;/li&gt;
  &lt;li&gt;404 Not Found - è¯·æ±‚ä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æºã€‚&lt;/li&gt;
  &lt;li&gt;405 Method Not Allowed - æ‰€è¯·æ±‚çš„ HTTP æ–¹æ³•ä¸å…è®¸å½“å‰è®¤è¯ç”¨æˆ·è®¿é—®ã€‚&lt;/li&gt;
  &lt;li&gt;410 Gone - è¡¨ç¤ºå½“å‰è¯·æ±‚çš„èµ„æºä¸å†å¯ç”¨ã€‚å½“è°ƒç”¨è€ç‰ˆæœ¬ API çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;415 Unsupported Media Type - å¦‚æœè¯·æ±‚ä¸­çš„å†…å®¹ç±»å‹æ˜¯é”™è¯¯çš„ã€‚&lt;/li&gt;
  &lt;li&gt;422 Unprocessable Entity - ç”¨æ¥è¡¨ç¤ºæ ¡éªŒé”™è¯¯ã€‚&lt;/li&gt;
  &lt;li&gt;429 Too Many Requests - ç”±äºè¯·æ±‚é¢‘æ¬¡è¾¾åˆ°ä¸Šé™è€Œè¢«æ‹’ç»è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ•°æ®å“åº”æ ¼å¼é»˜è®¤-json&quot;&gt;æ•°æ®å“åº”æ ¼å¼ï¼Œé»˜è®¤ JSON&lt;/h3&gt;
&lt;p&gt;å¯¹äºé”™è¯¯æ•°æ®ï¼Œé»˜è®¤ä½¿ç”¨å¦‚ä¸‹ç»“æ„ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;'message' =&amp;gt; ':message',          // é”™è¯¯çš„å…·ä½“æè¿°
'errors' =&amp;gt; ':errors',            // å‚æ•°çš„å…·ä½“é”™è¯¯æè¿°ï¼Œ422 ç­‰çŠ¶æ€æä¾›
'code' =&amp;gt; ':code',                // è‡ªå®šä¹‰çš„å¼‚å¸¸ç 
'status_code' =&amp;gt; ':status_code',  // httpçŠ¶æ€ç 
'debug' =&amp;gt; ':debug',              // debug ä¿¡æ¯ï¼Œéç”Ÿäº§ç¯å¢ƒæä¾›
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ‰‹æœºæ³¨å†Œ&quot;&gt;æ‰‹æœºæ³¨å†Œ&lt;/h2&gt;
&lt;h3 id=&quot;æµç¨‹è¯¦è§£&quot;&gt;æµç¨‹è¯¦è§£&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;ç”¨æˆ·è¾“å…¥æ‰‹æœºå·ï¼›&lt;/li&gt;
  &lt;li&gt;é€šè¿‡æ‰‹æœºå·è¯·æ±‚å›¾ç‰‡éªŒè¯ç ï¼Œæ˜¾ç¤ºç»™ç”¨æˆ·&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·è¾“å…¥æ­£ç¡®çš„å›¾ç‰‡éªŒè¯ç ï¼ŒæœåŠ¡å™¨å‘é€éªŒè¯ç è‡³ç”¨æˆ·æ‰‹æœº&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·å¡«å†™ï¼Œå§“åï¼Œå¯†ç ï¼ŒåŠæ­£ç¡®çš„çŸ­ä¿¡éªŒè¯ç ï¼Œå®Œæˆæ³¨å†Œ&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;æ‰‹æœºæ³¨å†ŒéªŒè¯ç &quot;&gt;æ‰‹æœºæ³¨å†ŒéªŒè¯ç &lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ç”Ÿæˆ 4 ä½éšæœºç ï¼›&lt;/li&gt;
  &lt;li&gt;ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;easySms&lt;/code&gt; å‘é€çŸ­ä¿¡åˆ°ç”¨æˆ·æ‰‹æœºï¼›&lt;/li&gt;
  &lt;li&gt;å‘é€æˆåŠŸåï¼Œç”Ÿæˆä¸€ä¸ª keyï¼Œåœ¨ç¼“å­˜ä¸­å­˜å‚¨è¿™ä¸ª key å¯¹åº”çš„æ‰‹æœºä»¥åŠéªŒè¯ç ï¼Œ5 åˆ†é’Ÿè¿‡æœŸï¼›&lt;/li&gt;
  &lt;li&gt;å°† key ä»¥åŠ è¿‡æœŸæ—¶é—´ è¿”å›ç»™å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åšæ¥å£çš„æ€è·¯ä¸åšç½‘é¡µåº”ç”¨ä¸åŒï¼Œæ¥å£æ˜¯æ— çŠ¶æ€ï¼Œç›¸äº’ç‹¬ç«‹çš„ï¼Œå¤„ç†è¿™ç§ç›¸äº’å…³è”ï¼Œæœ‰å…ˆåè°ƒç”¨é¡ºåºçš„æ¥å£æ—¶ï¼Œå¸¸å¸¸æ˜¯ç¬¬ä¸€ä¸ªæ¥å£è¿”å›ä¸€ä¸ªéšæœºçš„ keyï¼Œåˆ©ç”¨è¿™ä¸ª key å»è°ƒç”¨ç¬¬äºŒä¸ªæ¥å£ã€‚&lt;/p&gt;

&lt;p&gt;å…³äºå‘é€æˆåŠŸåè¿”å›çš„éšæœº key è¿™é‡Œæœ‰å‡ ç§æ€è·¯ï¼š&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ä¸ºäº†é˜²æ­¢ä¸Šé¢ä¸€ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ æ‰‹æœºå· + å‡ ä½éšæœºå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ 4 ä½éšæœºå­—ç¬¦ä¸²ï¼Œæˆ–è€…å½“å‰æ—¶é—´æˆ³ï¼Œå†²çªçš„æ¦‚ç‡å¾ˆå°ï¼›&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨ä¸€ä¸ª x ä½çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¸€èˆ¬çŸ­æ—¶é—´å†…çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ 15 ä½ï¼Œå†²çªçš„æ¦‚ç‡ä¹Ÿå¾ˆå°ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;ä½¿ç”¨-throttle-ä¸­é—´ä»¶è¿›è¡Œæ¥å£è°ƒç”¨é¢‘ç‡é™åˆ¶&quot;&gt;ä½¿ç”¨ throttle ä¸­é—´ä»¶è¿›è¡Œæ¥å£è°ƒç”¨é¢‘ç‡é™åˆ¶&lt;/h3&gt;
&lt;p&gt;éªŒè¯ç è½°ç‚¸ï¼Œæ˜¯æœ€å¸¸è§çš„æ”»å‡»æ–¹å¼ï¼Œæ¶æ„è°ƒç”¨ å‘é€çŸ­ä¿¡éªŒè¯ç  æ¥å£ï¼Œç»™ä¸€ä¸ªç”¨æˆ·æ‰‹æœºæˆ–å¤šä¸ªæ‰‹æœºå·ç é¢‘ç¹å‘é€éªŒè¯ç çŸ­ä¿¡ï¼Œå¯¹å…¶é€ æˆéå¸¸è´Ÿé¢çš„å½±å“ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¬¬ä¸‰æ–¹ç™»å½•&quot;&gt;ç¬¬ä¸‰æ–¹ç™»å½•&lt;/h2&gt;
&lt;p&gt;socialiteproviders ä¸º  Laravel Socialite æä¾›äº†å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹ç™»å½•æ–¹å¼&lt;/p&gt;

&lt;h3 id=&quot;å¾®ä¿¡ç™»å½•&quot;&gt;å¾®ä¿¡ç™»å½•&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç”¨äº‹å…ˆç”³è¯·åˆ°çš„ APPID å’Œå›è°ƒåœ°å€å‘èµ·å¾®ä¿¡ OAuth çš„è·³è½¬åœ°å€:&lt;/p&gt;

    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  https://open.weixin.qq.com/connect/oauth2/authorize?
  appid=APPID
  &amp;amp;redirect_uri=REDIRECT_URI
  &amp;amp;response_type=code
  &amp;amp;scope=SCOPE
  &amp;amp;state=STATE#wechat_redirect
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;è®¿é—®åæ¥åˆ°å¾®ä¿¡ç™»å½•æˆæƒé¡µé¢&lt;/li&gt;
  &lt;li&gt;ç™»å½•åä¼šè·³è½¬åˆ°ç¬¬ä¸€æ­¥è®¾ç½®çš„å›è°ƒåœ°å€ï¼Œå¹¶ä¸”é™„å¸¦å‚æ•° code&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è·å– access_token:&lt;/p&gt;

    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  https://api.weixin.qq.com/sns/oauth2/access_token?
  appid=APPID
  &amp;amp;secret=SECRET
  &amp;amp;code=CODE
  &amp;amp;grant_type=authorization_code
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é€šè¿‡ access_token è·å–ä¸ªäººä¿¡æ¯&lt;/p&gt;

    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  https://api.weixin.qq.com/sns/userinfo?
  access_token=ACCESS_TOKEN
  &amp;amp;openid=OPENID
  &amp;amp;lang=zh_CN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;oauth-20&quot;&gt;OAuth 2.0&lt;/h3&gt;
&lt;p&gt;æˆæƒç æ¨¡å¼&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;å®¢æˆ·ç«¯ï¼ˆapp / æµè§ˆå™¨ï¼‰å°†ç”¨æˆ·å¯¼å‘ç¬¬ä¸‰æ–¹è®¤è¯æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹è®¤è¯æœåŠ¡å™¨ï¼Œé€‰æ‹©æ˜¯å¦ç»™äºˆå®¢æˆ·ç«¯æˆæƒ&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·åŒæ„æˆæƒåï¼Œè®¤è¯æœåŠ¡å™¨å°†ç”¨æˆ·å¯¼å‘å®¢æˆ·ç«¯äº‹å…ˆæŒ‡å®šçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;é‡å®šå‘URI&lt;/code&gt;ï¼ŒåŒæ—¶é™„ä¸Šä¸€ä¸ªæˆæƒç ã€‚&lt;/li&gt;
  &lt;li&gt;å®¢æˆ·ç«¯å°†æˆæƒç å‘é€è‡³æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡æˆæƒç ä»¥åŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;APP_SECRET&lt;/code&gt; å‘ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ç”³è¯· &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;ï¼Œå‘ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ç”³è¯·ç”¨æˆ·æ•°æ®ï¼Œå®Œæˆç™»å½•æµç¨‹&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;jwt-json-web-token&quot;&gt;JWT (JSON Web Token)&lt;/h3&gt;
&lt;h4 id=&quot;ä¸€ä¸ªéå¸¸è½»å·§çš„è§„èŒƒè¿™ä¸ªè§„èŒƒå…è®¸æˆ‘ä»¬ä½¿ç”¨-jwt-åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å®‰å…¨å¯é çš„ä¿¡æ¯&quot;&gt;ä¸€ä¸ªéå¸¸è½»å·§çš„è§„èŒƒï¼Œè¿™ä¸ªè§„èŒƒå…è®¸æˆ‘ä»¬ä½¿ç”¨ JWT åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å®‰å…¨å¯é çš„ä¿¡æ¯ã€‚&lt;/h4&gt;
&lt;p&gt;jwt-auth æ˜¯ Laravel å’Œ lumen çš„ JWT ç»„ä»¶&lt;br /&gt;
å®ç° JWT æˆæƒï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require tymon/jwt-auth

php artisan jwt:secret
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/auth.php&lt;/code&gt;,å°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;api guard&lt;/code&gt; çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;driver&lt;/code&gt; æ”¹ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jwt&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;User æ¨¡å‹ç»§æ‰¿ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tymon\JWTAuth\Contracts\JWTSubject&lt;/code&gt; æ¥å£ï¼Œå¹¶å®ç°æ¥å£çš„ä¸¤ä¸ªæ–¹æ³• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getJWTIdentifier()&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getJWTCustomClaims()&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app\Models\User.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getJWTIdentifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getJWTCustomClaims&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JWT çš„è¿‡æœŸå’Œåˆ·æ–°æœºåˆ¶ï¼Œè¿‡æœŸå¾ˆå¥½ç†è§£ï¼Œè¶…è¿‡äº†è¿™ä¸ªæ—¶é—´ï¼Œtoken å°±æ— æ•ˆäº†ã€‚åˆ·æ–°æ—¶é—´ä¸€èˆ¬æ¯”è¿‡æœŸæ—¶é—´é•¿ï¼Œåªè¦åœ¨è¿™ä¸ªåˆ·æ–°æ—¶é—´å†…ï¼Œå³ä½¿ token è¿‡æœŸäº†ï¼Œ ä¾ç„¶å¯ä»¥æ¢å–ä¸€ä¸ªæ–°çš„ tokenï¼Œä»¥è¾¾åˆ°åº”ç”¨é•¿æœŸå¯ç”¨ï¼Œä¸éœ€è¦é‡æ–°ç™»å½•çš„ç›®çš„ã€‚
***&lt;/p&gt;
&lt;h2 id=&quot;api-resources&quot;&gt;API Resources&lt;/h2&gt;
&lt;p&gt;Laravel çš„èµ„æºç±»èƒ½å¤Ÿæ›´ç›´è§‚ç®€ä¾¿çš„æ–¹å¼å°†æ¨¡å‹å’Œæ¨¡å‹é›†åˆè½¬åŒ–æˆ JSON&lt;/p&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;api-é›†æˆæµ‹è¯•phpunit&quot;&gt;API é›†æˆæµ‹è¯•ï¼ˆPHPUnitï¼‰&lt;/h2&gt;
&lt;h3 id=&quot;phpunit-æ˜¯ä¸€ä¸ªè½»é‡çº§çš„-php-æµ‹è¯•æ¡†æ¶laravel-é»˜è®¤å°±æ”¯æŒç”¨-phpunit-æ¥åšæµ‹è¯•&quot;&gt;PHPUnit æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ PHP æµ‹è¯•æ¡†æ¶ï¼ŒLaravel é»˜è®¤å°±æ”¯æŒç”¨ PHPUnit æ¥åšæµ‹è¯•ã€‚&lt;/h3&gt;
&lt;h3 id=&quot;åˆ›å»ºæµ‹è¯•æ–‡ä»¶&quot;&gt;åˆ›å»ºæµ‹è¯•æ–‡ä»¶&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:test TopicApiTest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¯¥å‘½ä»¤ä¼šåœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tests/Feature&lt;/code&gt; ç›®å½•ä¸­åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TopicApiTest.php&lt;/code&gt; æ–‡ä»¶ï¼Œtests ç›®å½•ä¸­æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Feature&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Unit&lt;/code&gt; ä¸¤ä¸ªç›®å½•ã€‚&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Unit â€”â€” å•å…ƒæµ‹è¯•æ˜¯ä»ç¨‹åºå‘˜çš„è§’åº¦ç¼–å†™çš„ã€‚å®ƒä»¬ç”¨äºç¡®ä¿ç±»çš„ç‰¹å®šæ–¹æ³•æ‰§è¡Œä¸€ç»„ç‰¹å®šä»»åŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;Feature â€”â€” åŠŸèƒ½æµ‹è¯•æ˜¯ä»ç”¨æˆ·çš„è§’åº¦ç¼–å†™çš„ã€‚å®ƒä»¬ç¡®ä¿ç³»ç»ŸæŒ‰ç…§ç”¨æˆ·æœŸæœ›çš„é‚£æ ·è¿è¡Œï¼ŒåŒ…æ‹¬å‡ ä¸ªå¯¹è±¡çš„ç›¸äº’ä½œç”¨ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªå®Œæ•´çš„ HTTP è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;API å±äºåŠŸèƒ½æµ‹è¯•ï¼Œåº”è¯¥åˆ›å»ºåœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Feature&lt;/code&gt; ç›®å½•ä¸­ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æµ‹è¯•å‘å¸ƒè¯é¢˜&quot;&gt;æµ‹è¯•å‘å¸ƒè¯é¢˜&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tests/Feature/TopicApiTest.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Tests\Feature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Tests\TestCase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;App\Models\User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;App\Models\Topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Illuminate\Foundation\Testing\WithFaker&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Illuminate\Foundation\Testing\RefreshDatabase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TopicApiTest&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestCase&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RefreshDatabase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// åœ¨æµ‹è¯•å¼€å§‹ä¹‹å‰æ‰§è¡Œï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œæµ‹è¯•ä¼šä»¥è¯¥ç”¨æˆ·çš„èº«ä»½è¿›è¡Œæµ‹è¯•ã€‚&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testStoreTopic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'category_id'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'body'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'test body'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'title'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'test title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'api'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;fromUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withHeaders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Authorization'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Bearer '&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'POST'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/api/v1/topics'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;$assertData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'category_id'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'user_id'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'title'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'test title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'body'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;clean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'test body'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'user_topic_body'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;assertStatus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;assertJsonFragment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$assertData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰§è¡Œæµ‹è¯•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;phpunit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</content>
   </entry>
   
   <entry>
     <title>learnGitBranching å­¦ä¹ è®°å½•</title>
     <link href="/learnGitBranching-note-2020"/>
     <updated>2020-10-25T00:00:00+08:00</updated>
     <id>/learnGitBranching-note-2020</id>
     <content type="html">&lt;h1 id=&quot;learn-git-branching-å­¦ä¹ æ€»ç»“&quot;&gt;&lt;a href=&quot;https://learngitbranching.js.org/?demo=&amp;amp;locale=zh_CN&quot;&gt;Learn Git Branching&lt;/a&gt; å­¦ä¹ æ€»ç»“&lt;/h1&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;ä¸»è¦&quot;&gt;ä¸»è¦&lt;/h2&gt;
&lt;h3 id=&quot;åŸºç¡€ç¯‡&quot;&gt;åŸºç¡€ç¯‡&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Git Commit&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git commit
git commit
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Branch&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git checkout -b bugFix
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Merge&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git checkout -b bugFix
git commit
git checkout main
git commit
git merge bugFix
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Rebase&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git checkout -b bugFix
git commit
git checkout main
git commit
git checkout bugFix
git rebase main
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;é«˜çº§ç¯‡&quot;&gt;é«˜çº§ç¯‡&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;åˆ†ç¦» HEAD&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git checkout c4
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;ç›¸å¯¹å¼•ç”¨ï¼ˆ^ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git checkout bugFix^
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;ç›¸å¯¹å¼•ç”¨ï¼ˆ~ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git branch -f main c6
git checkout HEAD~1
git branch -f bugFix HEAD~1
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;æ’¤é”€å˜æ›´&lt;br /&gt;
&lt;strong&gt;reset :ï¼ˆæœ¬åœ°åˆ†æ”¯ï¼‰&lt;/strong&gt;&lt;br /&gt;
ä¿®æ”¹æœ¬åœ°åˆ†æ”¯ï¼Œé€šè¿‡æŠŠåˆ†æ”¯è®°å½•å›é€€æ¥å®ç°æ’¤é”€æ”¹åŠ¨ã€‚è¿™ç§â€œæ”¹å†™å†å²â€çš„æ–¹æ³•å¯¹äºå¤šäººä½¿ç”¨çš„è¿œç¨‹åˆ†æ”¯æ— æ•ˆã€‚ï¼ˆæ³¨æ„ï¼šåœ¨ reset åï¼Œæ‰€åšçš„å˜æ›´è¿˜åœ¨ï¼Œä½†æ˜¯å¤„äºæœªåŠ å…¥æš‚å­˜åŒºçŠ¶æ€ï¼‰&lt;br /&gt;
&lt;strong&gt;revert : ï¼ˆè¿œç¨‹åˆ†æ”¯ï¼‰&lt;/strong&gt;&lt;br /&gt;
å°†æ’¤é”€æ”¹åŠ¨ä½œä¸ºæ–°çš„æäº¤ï¼Œè¿™æ ·å°±èƒ½æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸äººå…±äº«ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git reset HEAD~1
git checkout pushed
git revert HEAD
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;è¿œç¨‹&quot;&gt;è¿œç¨‹&lt;/h2&gt;
&lt;h3 id=&quot;push--pull--git-è¿œç¨‹ä»“åº“&quot;&gt;Push &amp;amp; Pull â€“ Git è¿œç¨‹ä»“åº“&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Git Clone&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git clone
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;è¿œç¨‹åˆ†æ”¯&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git commit
git checkout o/main
git commit
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Fetch&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git fetch
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Pull&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git pull
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;æ¨¡æ‹Ÿå›¢é˜Ÿåˆä½œ&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git clone
git fakeTeamwork 2
git commit
git pull
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;Git Push&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git commit
git commit
git push
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;åç¦»çš„æäº¤å†å²&lt;br /&gt;
å‡è®¾ä½ å‘¨ä¸€å…‹éš†äº†ä¸€ä¸ªä»“åº“ï¼Œç„¶åå¼€å§‹ç ”å‘æŸä¸ªæ–°åŠŸèƒ½ã€‚åˆ°å‘¨äº”æ—¶ï¼Œä½ æ–°åŠŸèƒ½å¼€å‘æµ‹è¯•å®Œæ¯•ï¼Œå¯ä»¥å‘å¸ƒäº†ã€‚ä½†æ˜¯ â€”â€” å¤©å•Šï¼ä½ çš„åŒäº‹è¿™å‘¨å†™äº†ä¸€å †ä»£ç ï¼Œè¿˜æ”¹äº†è®¸å¤šä½ çš„åŠŸèƒ½ä¸­ä½¿ç”¨çš„ APIï¼Œè¿™äº›å˜åŠ¨ä¼šå¯¼è‡´ä½ æ–°å¼€å‘çš„åŠŸèƒ½å˜å¾—ä¸å¯ç”¨ã€‚ä½†æ˜¯ä»–ä»¬å·²ç»å°†é‚£äº›æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“äº†ï¼Œå› æ­¤ä½ çš„å·¥ä½œå°±å˜æˆäº†åŸºäºé¡¹ç›®æ—§ç‰ˆçš„ä»£ç ï¼Œä¸è¿œç¨‹ä»“åº“æœ€æ–°çš„ä»£ç ä¸åŒ¹é…äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git clone
git fakeTeamwork
git commit
git pull --rebase
git push
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
  &lt;li&gt;é”å®šçš„ Master (Locked Master)&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&quot;language-git&quot;&gt;git reset --hard o/main
git checkout -b feature C2
git push origin feature
&lt;/code&gt;&lt;/pre&gt;
</content>
   </entry>
   
   <entry>
     <title>BBS å¼€å‘ç¬”è®°</title>
     <link href="/BBS-note-2020"/>
     <updated>2020-09-25T00:00:00+08:00</updated>
     <id>/BBS-note-2020</id>
     <content type="html">&lt;h1 id=&quot;evabbs&quot;&gt;EvaBBS&lt;/h1&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;git-å·¥ä½œæµ&quot;&gt;Git å·¥ä½œæµ&lt;/h2&gt;
&lt;h3 id=&quot;åˆå§‹åŒ–&quot;&gt;åˆå§‹åŒ–&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git init
git add &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt;
git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'reason'&lt;/span&gt;
git remote add origin git@github.com:&amp;lt;username&amp;gt;/é¡¹ç›®å.git
git push &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; origin é»˜è®¤åˆ†æ”¯å
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ—¥å¸¸&quot;&gt;æ—¥å¸¸&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git checkout &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; ï¼ˆæ”¾å¼ƒæ“ä½œï¼‰
git checkout &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; åˆ†æ”¯å
git add &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; æˆ– git add filename
git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'reason'&lt;/span&gt;
git push
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;å‰ç«¯å·¥ä½œæµ&quot;&gt;å‰ç«¯å·¥ä½œæµ&lt;/h2&gt;
&lt;h3 id=&quot;é›†æˆ-bootstrap&quot;&gt;é›†æˆ Bootstrap&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Composer å®‰è£…ç›¸åº”çš„æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require laravel/ui:^2.0 &lt;span class=&quot;nt&quot;&gt;--dev&lt;/span&gt;

php artisan ui bootstrap

yarn &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;npm run watch-poll ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶ç¼–è¯‘ï¼‰ æˆ– npm run dev ï¼ˆç¼–è¯‘ä¸€æ¬¡ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ä¿®æ”¹æ ·å¼&quot;&gt;ä¿®æ”¹æ ·å¼&lt;/h3&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;resources/sass/app.scss&lt;/code&gt; åï¼Œè¿è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm run watch-poll ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶ç¼–è¯‘ï¼‰ æˆ– npm run dev ï¼ˆç¼–è¯‘ä¸€æ¬¡ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é˜²æ­¢æµè§ˆå™¨ç¼“å­˜é—®é¢˜&quot;&gt;é˜²æ­¢æµè§ˆå™¨ç¼“å­˜é—®é¢˜&lt;/h3&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;webpack.mix.js&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;mix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;laravel-mix&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;mix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;resources/js/app.js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;public/js&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;resources/sass/app.scss&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;public/css&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;resources/views/layouts/app.blade.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Styles --&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ mix('css/app.css'}}&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å­—ä½“å›¾æ ‡&quot;&gt;å­—ä½“å›¾æ ‡&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;yarn add @fortawesome/fontawesome-free
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨æ ·å¼ä¸­è½½å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;resources/sass/app.scss&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-scss highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// Fontawesome&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~@fortawesome/fontawesome-free/scss/fontawesome'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~@fortawesome/fontawesome-free/scss/regular'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~@fortawesome/fontawesome-free/scss/solid'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~@fortawesome/fontawesome-free/scss/brands'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åç¼–è¯‘&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm run watch-poll ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶ç¼–è¯‘ï¼‰ æˆ– npm run dev ï¼ˆç¼–è¯‘ä¸€æ¬¡ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;ç”¨æˆ·è®¤è¯&quot;&gt;ç”¨æˆ·è®¤è¯&lt;/h2&gt;
&lt;h3 id=&quot;laravel-è‡ªå¸¦çš„ç”¨æˆ·è®¤è¯è„šæ‰‹æ¶&quot;&gt;Laravel è‡ªå¸¦çš„ç”¨æˆ·è®¤è¯è„šæ‰‹æ¶&lt;/h3&gt;
&lt;p&gt;æ‰§è¡Œè®¤è¯è„šæ‰‹æ¶å‘½ä»¤ï¼Œç”Ÿæˆä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan ui:auth
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®ƒä¼šè‡ªåŠ¨ç”Ÿæˆç”¨æˆ·è®¤è¯è·¯ç”±ï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;routes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åŒæ—¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ui:auth&lt;/code&gt; å‘½ä»¤ç”Ÿæˆäº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;resources/views/auth&lt;/code&gt; ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;è§†å›¾åç§°&lt;/th&gt;
      &lt;th&gt;è¯´æ˜&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;register.blade.php&lt;/td&gt;
      &lt;td&gt;æ³¨å†Œé¡µé¢è§†å›¾&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;login.blade.php&lt;/td&gt;
      &lt;td&gt;ç™»å½•é¡µé¢è§†å›¾&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;verify.blade.php&lt;/td&gt;
      &lt;td&gt;é‚®ç®±è®¤è¯è§†å›¾&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;passwords/email.blade.php&lt;/td&gt;
      &lt;td&gt;æäº¤é‚®ç®±å‘é€é‚®ä»¶çš„è§†å›¾&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;passwords/reset.blade.php&lt;/td&gt;
      &lt;td&gt;é‡ç½®å¯†ç çš„é¡µé¢è§†å›¾&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;æœ¬åœ°åŒ–&quot;&gt;æœ¬åœ°åŒ–&lt;/h3&gt;
&lt;p&gt;å®‰è£…è¯­è¨€åŒ… Laravel Langï¼Œæ­¤é¡¹ç›®æ”¯æŒäº†52ä¸ªå›½å®¶çš„è¯­è¨€&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require &lt;span class=&quot;s2&quot;&gt;&quot;overtrue/laravel-lang:~3.0&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/app.php&lt;/code&gt; ä¸­çš„ä¸‹ä¸€è¡Œ&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Illuminate\Translation\TranslationServiceProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ›¿æ¢ä¸ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Overtrue\LaravelLang\TranslationServiceProvider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;blade-æ¨¡ç‰ˆä¸­åˆ¤æ–­ç™»å½•çŠ¶æ€&quot;&gt;Blade æ¨¡ç‰ˆä¸­åˆ¤æ–­ç™»å½•çŠ¶æ€&lt;/h3&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@guest
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;nav-item&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ route('login') }}&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;ç™»å½•&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;nav-item&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ route('register') }}&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;æ³¨å†Œ&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
@else
    ...
@endguest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;éªŒè¯ç &quot;&gt;éªŒè¯ç &lt;/h3&gt;
&lt;h4 id=&quot;å®‰è£…ç¬¬ä¸‰æ–¹æ‰©å±•åŒ…-mewscaptcha-ä½œä¸ºåŸºç¡€æ¥å®ç°éªŒè¯ç åŠŸèƒ½&quot;&gt;å®‰è£…ç¬¬ä¸‰æ–¹æ‰©å±•åŒ… mews/captcha ä½œä¸ºåŸºç¡€æ¥å®ç°éªŒè¯ç åŠŸèƒ½ã€‚&lt;/h4&gt;
&lt;p&gt;ç»ˆç«¯ä¸­æ‰§è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require &lt;span class=&quot;s2&quot;&gt;&quot;mews/captcha:~3.0&quot;&lt;/span&gt;

php artisan vendor:publish &lt;span class=&quot;nt&quot;&gt;--provider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Mews\Captcha\CaptchaServiceProvider'&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;é¡µé¢åµŒå…¥&quot;&gt;é¡µé¢åµŒå…¥&lt;/h4&gt;
&lt;h5 id=&quot;å‰ç«¯å±•ç¤º&quot;&gt;å‰ç«¯å±•ç¤º&lt;/h5&gt;
&lt;p&gt;ç»ˆç«¯ä¸­æ‰§è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;thumbnail captcha mt-3 mb-2&quot;&lt;/span&gt; 
     &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ captcha_src('flat') }}&quot;&lt;/span&gt; 
     &lt;span class=&quot;na&quot;&gt;onclick=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;this.src='/captcha/flat?'+Math.random()&quot;&lt;/span&gt; 
     &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ç‚¹å‡»å›¾ç‰‡é‡æ–°è·å–éªŒè¯ç &quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;åç«¯éªŒè¯&quot;&gt;åç«¯éªŒè¯&lt;/h5&gt;
&lt;p&gt;å®ç°åŸç†ï¼šåˆ©ç”¨äº†Laravel è¡¨å•éªŒè¯å™¨æä¾›çš„ &lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#custom-validation-rules&quot;&gt;è‡ªå®šä¹‰è¡¨å•éªŒè¯è§„åˆ™&lt;/a&gt; åŠŸèƒ½&lt;/p&gt;

&lt;p&gt;åœ¨æ³¨å†Œæ§åˆ¶å™¨ä¸­æ·»åŠ ä¸Šè¡¨å•éªŒè¯è§„åˆ™
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Http/Controllers/Auth/RegisterController.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Validator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'captcha'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'required'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'captcha'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'captcha.required'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'éªŒè¯ç ä¸èƒ½ä¸ºç©º'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;'captcha.captcha'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'è¯·è¾“å…¥æ­£ç¡®çš„éªŒè¯ç '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é‚®ç®±è®¤è¯&quot;&gt;é‚®ç®±è®¤è¯&lt;/h3&gt;
&lt;h4 id=&quot;é‚®ç®±è®¤è¯å·¥ä½œæœºåˆ¶ä¸€èˆ¬åˆ†ä¸¤æ­¥&quot;&gt;ã€é‚®ç®±è®¤è¯ã€å·¥ä½œæœºåˆ¶ä¸€èˆ¬åˆ†ä¸¤æ­¥&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;å‘é€è®¤è¯é‚®ä»¶ â€”â€” å°†é™„å¸¦è®¤è¯ä¿¡æ¯çš„ã€è®¤è¯é“¾æ¥ã€å‘é€åˆ°ç”¨æˆ·é‚®ç®±é‡Œï¼›&lt;/li&gt;
  &lt;li&gt;æ£€æµ‹è®¤è¯é“¾æ¥ â€”â€” ç”¨æˆ·æ‰“å¼€é‚®ä»¶ï¼Œç‚¹å‡»è®¤è¯é“¾æ¥è¿›å…¥ç½‘ç«™ï¼Œç¨‹åºæ£€æµ‹ URL ä¸­è®¤è¯å‚æ•°çš„åˆæ³•æ€§ï¼Œå¹¶æ¸²æŸ“å¯¹åº”çš„é¡µé¢ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;è®¤è¯è¿‡ç¨‹æ€è·¯&quot;&gt;è®¤è¯è¿‡ç¨‹æ€è·¯&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;ç”¨æˆ·æ³¨å†ŒæˆåŠŸåï¼Œç»™ç”¨æˆ·å‘é€ä¸€ä¸ªè®¤è¯é‚®ä»¶ï¼›&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·ç™»å½•çŠ¶æ€ä¸‹ï¼Œå¦‚é‚®ç®±æœªè®¤è¯ï¼Œé‡å®šå‘åˆ°æé†’éªŒè¯é‚®ç®±çš„é¡µé¢ä¸­ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;å®ç°åŸç†&quot;&gt;å®ç°åŸç†&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;ä½¿ç”¨ Laravel é»˜è®¤è‡ªå¸¦&lt;strong&gt;é‚®ç®±è®¤è¯&lt;/strong&gt;åŠŸèƒ½&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·åœ¨æäº¤æ³¨å†Œè¡¨å•åï¼ŒLaravel ä¼šé€šè¿‡äº‹ä»¶ç³»ç»Ÿè§¦å‘ Registered äº‹ä»¶ï¼Œé€šè¿‡ç›‘å¬æ­¤äº‹ä»¶ï¼Œåœ¨è§¦å‘æ—¶å‘é€ç”¨æˆ·è®¤è¯é‚®ä»¶ã€‚&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨è‡ªå®šä¹‰ä¸­é—´ä»¶è¿‡æ»¤ç”¨æˆ·æ‰€æœ‰è¯·æ±‚ï¼Œå°†æœªè®¤è¯ç”¨æˆ·å¼ºåˆ¶è·³è½¬åˆ°è®¤è¯æç¤ºé¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;ç”¨æˆ·æˆæƒ&quot;&gt;ç”¨æˆ·æˆæƒ&lt;/h2&gt;
&lt;h3 id=&quot;é™åˆ¶æ¸¸å®¢è®¿é—®&quot;&gt;é™åˆ¶æ¸¸å®¢è®¿é—®&lt;/h3&gt;
&lt;h4 id=&quot;auth-ä¸­é—´ä»¶&quot;&gt;Auth ä¸­é—´ä»¶&lt;/h4&gt;
&lt;p&gt;é™¤äº† show ï¼Œå…¶ä»–éƒ½éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UsersController.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'auth'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'except'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'show'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;åªèƒ½ç¼–è¾‘è‡ªå·±çš„èµ„æ–™&quot;&gt;åªèƒ½ç¼–è¾‘è‡ªå·±çš„èµ„æ–™&lt;/h3&gt;
&lt;h4 id=&quot;policy-æˆæƒç­–ç•¥ç±»&quot;&gt;Policy æˆæƒç­–ç•¥ç±»&lt;/h4&gt;
&lt;p&gt;ç»ˆç«¯ä¸­æ‰§è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:policy UserPolicy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Policies/UserPolicy.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$currentUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$currentUser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨éœ€è¦æˆæƒçš„åœ°æ–¹ä½¿ç”¨&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'update'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;blade-æ¨¡ç‰ˆæ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹&quot;&gt;Blade æ¨¡ç‰ˆæ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹&lt;/h3&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@can('update', $topic)
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;operate&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
       ...
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
@endcan
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;è¡¨å•éªŒè¯&quot;&gt;è¡¨å•éªŒè¯&lt;/h2&gt;
&lt;h3 id=&quot;è¡¨å•è¯·æ±‚éªŒè¯-formrequest&quot;&gt;&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467&quot;&gt;è¡¨å•è¯·æ±‚éªŒè¯&lt;/a&gt; ï¼ˆFormRequestï¼‰&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥éªŒè¯ç”¨æˆ·æäº¤çš„æ•°æ®æ˜¯å¦åˆè§„&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:request UserRequest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¸¸ç”¨éªŒè¯è§„åˆ™&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-alpha-dash&quot;&gt;alpha_dash&lt;/a&gt; :éªŒè¯å­—æ®µå¯èƒ½åŒ…å«å­—æ¯ã€æ•°å­—ï¼Œä»¥åŠç ´æŠ˜å· (-) å’Œä¸‹åˆ’çº¿ ( _ )ã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-between&quot;&gt;between:min,max&lt;/a&gt; :éªŒè¯å­—æ®µçš„å¤§å°å¿…é¡»åœ¨ç»™å®šçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;min&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max&lt;/code&gt; ä¹‹é—´ã€‚å­—ç¬¦ä¸²ã€æ•°å­—ã€æ•°ç»„å’Œæ–‡ä»¶çš„è®¡ç®—æ–¹å¼éƒ½ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;size&lt;/code&gt; æ–¹æ³•ã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-confirmed&quot;&gt;confirmed&lt;/a&gt; :éªŒè¯å­—æ®µå¿…é¡»å…·æœ‰åŒ¹é…å­—æ®µ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo_confirmation&lt;/code&gt; ã€‚ä¾‹å¦‚ï¼ŒéªŒè¯å­—æ®µä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;password&lt;/code&gt; ï¼Œè¾“å…¥ä¸­å¿…é¡»å­˜åœ¨ä¸ä¹‹åŒ¹é…çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;password_confirmation&lt;/code&gt; å­—æ®µã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-email&quot;&gt;email&lt;/a&gt; :éªŒè¯çš„å­—æ®µå¿…é¡»ç¬¦åˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e-mail&lt;/code&gt; åœ°å€æ ¼å¼ã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-nullable&quot;&gt;nullable&lt;/a&gt; :éªŒè¯å­—æ®µå¯ä»¥ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;null&lt;/code&gt;ã€‚è¿™åœ¨éªŒè¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼Œä¾‹å¦‚å¯ä»¥åŒ…å«ç©ºå€¼çš„å­—ç¬¦ä¸²å’Œæ•´æ•°ã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-required&quot;&gt;required&lt;/a&gt; :éªŒè¯çš„å­—æ®µå¿…é¡»å­˜åœ¨äºè¾“å…¥æ•°æ®ä¸­ï¼Œè€Œä¸æ˜¯ç©ºã€‚&lt;br /&gt;
&lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467#rule-unique&quot;&gt;unique:table,column,except,idColumn&lt;/a&gt; :éªŒè¯å­—æ®µåœ¨ç»™å®šçš„æ•°æ®åº“è¡¨ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚&lt;/p&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;å›¾ç‰‡ä¸Šä¼ &quot;&gt;å›¾ç‰‡ä¸Šä¼ &lt;/h2&gt;
&lt;h3 id=&quot;é€šè¿‡-è¯·æ±‚å¯¹è±¡-requestæ¥è·å–&quot;&gt;é€šè¿‡ &lt;a href=&quot;https://learnku.com/docs/laravel/7.x/requests#retrieving-uploaded-files&quot;&gt;è¯·æ±‚å¯¹è±¡&lt;/a&gt; ï¼ˆRequestï¼‰æ¥è·å–&lt;/h3&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;é€šè¿‡-è¡¨å•è¯·æ±‚éªŒè¯-formrequesté™åˆ¶å›¾ç‰‡å¤§å°&quot;&gt;é€šè¿‡ &lt;a href=&quot;https://learnku.com/docs/laravel/7.x/validation/7467&quot;&gt;è¡¨å•è¯·æ±‚éªŒè¯&lt;/a&gt; ï¼ˆFormRequestï¼‰é™åˆ¶å›¾ç‰‡å¤§å°&lt;/h3&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
           &lt;span class=&quot;s1&quot;&gt;'avatar'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'mimes:jpeg,bmp,png,gif|dimensions:min_width=208,min_height=208'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è£å‰ªå›¾åƒ&quot;&gt;è£å‰ªå›¾åƒ&lt;/h3&gt;
&lt;p&gt;å›¾ç‰‡å¤ªå¤§ä¼šæ‹–æ…¢é¡µé¢çš„åŠ è½½é€Ÿåº¦ã€‚&lt;br /&gt;
é€šè¿‡ Intervention/image æ‰©å±•åŒ…æ¥å¤„ç†å›¾ç‰‡è£åˆ‡çš„é€»è¾‘&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require intervention/image

php artisan vendor:publish &lt;span class=&quot;nt&quot;&gt;--provider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Intervention&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\I&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;mage&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\I&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;mageServiceProviderLaravelRecent&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;è°ƒè¯•ç”¨çš„å‡æ•°æ®å¡«å……&quot;&gt;è°ƒè¯•ç”¨çš„å‡æ•°æ®å¡«å……&lt;/h2&gt;
&lt;h3 id=&quot;ä»¥ç”¨æˆ·æ•°æ®ä¸ºä¾‹æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶&quot;&gt;ä»¥ç”¨æˆ·æ•°æ®ä¸ºä¾‹ï¼Œæ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼š&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;æ•°æ®æ¨¡å‹ User.php&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·çš„æ•°æ®å·¥å‚ database/factories/UserFactory.php&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·çš„æ•°æ®å¡«å…… database/seeds/UsersTableSeeder.php&lt;/li&gt;
  &lt;li&gt;æ³¨å†Œæ•°æ®å¡«å…… database/seeds/DatabaseSeeder.php&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;æ­¥éª¤&quot;&gt;æ­¥éª¤&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;å®šåˆ¶ç”¨æˆ·æ•°æ®å·¥å‚ï¼ˆå•ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼‰&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$factory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Faker&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$faker&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
         &lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$faker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;s1&quot;&gt;'email'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$faker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;safeEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;s1&quot;&gt;'email_verified_at'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
         &lt;span class=&quot;s1&quot;&gt;'password'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// password&lt;/span&gt;
         &lt;span class=&quot;s1&quot;&gt;'remember_token'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å®Œæˆæ•°æ®å¡«å……æ–‡ä»¶ï¼ˆéœ€è¦å¡«å……å¤šå°‘ï¼‰&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; php artisan make:seed UsersTableSeeder
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;database/seeds/UsersTableSeeder.php&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;c1&quot;&gt;// ç”Ÿæˆæ•°æ®é›†åˆ&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$users&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;factory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
   
     &lt;span class=&quot;c1&quot;&gt;// å•ç‹¬å¤„ç†ç¬¬ä¸€ä¸ªç”¨æˆ·çš„æ•°æ®&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'tomcat'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'tomcath@foxmail.com'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ³¨å†Œæ•°æ®å¡«å…… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;database/seeds/DatabaseSeeder.php&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;UsersTableSeeder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é‡ç½®æ•°æ®åº“å¹¶å¡«å……æ•°æ®&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; php artisan migrate:refresh &lt;span class=&quot;nt&quot;&gt;--seed&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;æ¨¡å‹å…³è”&quot;&gt;æ¨¡å‹å…³è”&lt;/h2&gt;
&lt;h3 id=&quot;ä¸€å¯¹ä¸€-hasone&quot;&gt;ä¸€å¯¹ä¸€ hasOne&lt;/h3&gt;
&lt;h3 id=&quot;ä¸€å¯¹ä¸€åå‘å…³è”-belongsto&quot;&gt;ä¸€å¯¹ä¸€ï¼ˆåå‘å…³è”ï¼‰ belongsTo&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ä¸€ä¸ª Topic å±äºä¸€ä¸ªåˆ†ç±»ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸€ä¸ª Topic å±äºä¸€ä¸ªä½œè€…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä¸€å¯¹å¤š-hasmany&quot;&gt;ä¸€å¯¹å¤š hasMany&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰å¤šä¸ª Topicã€‚&lt;/li&gt;
  &lt;li&gt;ä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰å¤šæ¡ è¯„è®ºã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å¤šå¯¹å¤š-belongstomany&quot;&gt;å¤šå¯¹å¤š belongsToMany&lt;/h3&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;æ€§èƒ½ä¼˜åŒ–&quot;&gt;æ€§èƒ½ä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id=&quot;å®‰è£…-laravel-å¼€å‘è€…å·¥å…·ç±»---laravel-debugbar&quot;&gt;å®‰è£… Laravel å¼€å‘è€…å·¥å…·ç±» - laravel-debugbar&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;composer require &lt;span class=&quot;s2&quot;&gt;&quot;barryvdh/laravel-debugbar:~3.2&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--dev&lt;/span&gt;

php artisan vendor:publish &lt;span class=&quot;nt&quot;&gt;--provider&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Barryvdh&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\D&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ebugbar&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\S&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;erviceProvider&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å¼€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/debugbar.php&lt;/code&gt;ï¼Œå°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enabled&lt;/code&gt; çš„å€¼è®¾ä¸ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s1&quot;&gt;'enabled'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'APP_DEBUG'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;n1-é—®é¢˜&quot;&gt;N+1 é—®é¢˜&lt;/h3&gt;
&lt;h4 id=&quot;äº§ç”ŸåŸå› &quot;&gt;äº§ç”ŸåŸå› ï¼š&lt;/h4&gt;
&lt;p&gt;éå† ORM å…³è”æ•°æ®æ—¶ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦å‘æ•°æ®åº“æŸ¥è¯¢å…³è”æ•°æ®ï¼Œè¯» 30 æ¡å°±è¦æ‰§è¡Œ 30 * 2 + 1 = 61 æ¡è¯­å¥ï¼Œæ‰€ä»¥ç§°ä¸º N+1 é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/h4&gt;
&lt;p&gt;é€šè¿‡ Eloquent æä¾›çš„ &lt;a href=&quot;https://learnku.com/docs/laravel/7.x/eloquent-relationships/7500#eager-loading&quot;&gt;é¢„åŠ è½½åŠŸèƒ½&lt;/a&gt; æ¥è§£å†³æ­¤é—®é¢˜ï¼š&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$topics&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'user'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'category'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;paginate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;with() æ–¹æ³•æå‰åŠ è½½äº†æˆ‘ä»¬åé¢éœ€è¦ç”¨åˆ°çš„å…³è”å±æ€§ user å’Œ categoryï¼Œå¹¶åšäº†ç¼“å­˜ã€‚&lt;/li&gt;
  &lt;li&gt;åé¢å³ä½¿æ˜¯åœ¨éå†æ•°æ®æ—¶ä½¿ç”¨åˆ°è¿™ä¸¤ä¸ªå…³è”å±æ€§ï¼Œæ•°æ®å·²ç»è¢«é¢„åŠ è½½å¹¶ç¼“å­˜ï¼Œå› æ­¤ä¸ä¼šå†äº§ç”Ÿå¤šä½™çš„ SQL æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;å®‰å…¨æ¼æ´&quot;&gt;å®‰å…¨æ¼æ´&lt;/h2&gt;
&lt;p&gt;å®‰å…¨åŸåˆ™ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;æ°¸è¿œä¸è¦ä¿¡ä»»ç”¨æˆ·æäº¤çš„æ•°æ®ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;xss--cross-site-scripting--è·¨ç«™è„šæœ¬æ”»å‡»&quot;&gt;XSS ( Cross Site Scripting ) è·¨ç«™è„šæœ¬æ”»å‡»&lt;/h3&gt;
&lt;h4 id=&quot;æ”»å‡»è€…åœ¨-web-é¡µé¢æ’å…¥-javascript-ä»£ç å½“ç”¨æˆ·æµè§ˆè¯¥é¡µæ—¶ä»£ç ä¾¿ä¼šæ‰§è¡Œå¸¸è§æ“ä½œæ˜¯ç›—å–ç”¨æˆ·-cookie&quot;&gt;æ”»å‡»è€…åœ¨ Web é¡µé¢æ’å…¥ JavaScript ä»£ç ï¼Œå½“ç”¨æˆ·æµè§ˆè¯¥é¡µæ—¶ï¼Œä»£ç ä¾¿ä¼šæ‰§è¡Œï¼Œå¸¸è§æ“ä½œæ˜¯ç›—å–ç”¨æˆ· Cookieã€‚&lt;/h4&gt;
&lt;h4 id=&quot;é¿å…-xss-æ”»å‡»çš„æ–¹æ³•&quot;&gt;é¿å… XSS æ”»å‡»çš„æ–¹æ³•&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œè¿‡æ»¤&lt;/li&gt;
  &lt;li&gt;Web ç½‘é¡µæ˜¾ç¤ºæ—¶å¯¹æ•°æ®è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œä¸€èˆ¬ä½¿ç”¨ htmlspecialchars() è¾“å‡ºã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Laravel çš„ Blade è¯­æ³• {{  }} ä¼šè‡ªåŠ¨è°ƒç”¨ PHP htmlspecialchars å‡½æ•°æ¥é¿å… XSS æ”»å‡»ã€‚ä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸å¾—ä¸ä½¿ç”¨ {!! !!}æ¥åŸæ ·è¾“å‡ºæ•°æ®ï¼Œæ¯”å¦‚ä½¿ç”¨ WYSIWYG ç¼–è¾‘å™¨æ—¶ã€‚&lt;/p&gt;

&lt;p&gt;è§£å†³åŠæ³•ï¼š ä½¿ç”¨ HTMLPurifier for Laravel å¯¹ç”¨æˆ·å†…å®¹è¿›è¡Œè¿‡æ»¤ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç”¨ç›‘å¬å™¨åœ¨ç”¨æˆ·æ•°æ®å…¥åº“å‰è¿›è¡Œè¿‡æ»¤æ“ä½œ&lt;/strong&gt;ï¼š&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Observers/TopicObserver.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TopicObserver&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;saving&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Topic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;clean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'user_topic_body'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;excerpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_excerpt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;csrf-è·¨ç«™è¯·æ±‚ä¼ªé€ &quot;&gt;CSRF è·¨ç«™è¯·æ±‚ä¼ªé€ &lt;/h3&gt;
&lt;h4 id=&quot;è¿™ç§æ”»å‡»å‡­å€Ÿå·²é€šè¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·èº«ä»½æ¥è¿è¡Œæœªç»è¿‡æˆæƒçš„å‘½ä»¤&quot;&gt;è¿™ç§æ”»å‡»å‡­å€Ÿå·²é€šè¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·èº«ä»½æ¥è¿è¡Œæœªç»è¿‡æˆæƒçš„å‘½ä»¤ã€‚&lt;/h4&gt;
&lt;h4 id=&quot;é¿å…-csrf-æ”»å‡»çš„æ–¹æ³•&quot;&gt;é¿å… CSRF æ”»å‡»çš„æ–¹æ³•&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Laravel ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªæ´»è·ƒçš„ç”¨æˆ·çš„ä¼šè¯ç”Ÿæˆä¸€ä¸ª CSRFã€Œä»¤ç‰Œã€ã€‚è¯¥ä»¤ç‰Œç”¨äºéªŒè¯ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·æ˜¯å¦æ˜¯å‘åº”ç”¨ç¨‹åºå‘å‡ºè¯·æ±‚çš„ç”¨æˆ·ã€‚&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åœ¨å®šä¹‰ HTMl è¡¨å•æ—¶ï¼ŒåŒ…å«ä¸€ä¸ªéšè—çš„ CSRF æ ‡è®°å­—æ®µã€‚&lt;/p&gt;

    &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/profile&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  @csrf
  ...
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;X-CSRF-TOKEN ï¼ˆé€šè¿‡éªŒè¯çš„åŒæ—¶ï¼Œè¿˜èƒ½æ–¹ä¾¿Jquery AJAX ä½¿ç”¨ï¼‰&lt;/p&gt;

    &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;csrf-token&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ csrf_token() }}&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;seo-å‹å¥½çš„-url&quot;&gt;SEO å‹å¥½çš„ URL&lt;/h2&gt;
&lt;h3 id=&quot;ç¬¬ä¸‰æ–¹-api-è°ƒç”¨&quot;&gt;ç¬¬ä¸‰æ–¹ API è°ƒç”¨&lt;/h3&gt;
&lt;h4 id=&quot;ä½¿ç”¨-guzzle-çš„-http-å®¢æˆ·ç«¯æ¥è¯·æ±‚-ç™¾åº¦ç¿»è¯‘-æ¥å£&quot;&gt;ä½¿ç”¨ Guzzle çš„ HTTP å®¢æˆ·ç«¯æ¥è¯·æ±‚ &lt;a href=&quot;http://api.fanyi.baidu.com/api/trans/product/apidoc&quot;&gt;ç™¾åº¦ç¿»è¯‘&lt;/a&gt; æ¥å£ã€‚&lt;/h4&gt;

&lt;h3 id=&quot;é˜Ÿåˆ—ä»»åŠ¡&quot;&gt;é˜Ÿåˆ—ä»»åŠ¡&lt;/h3&gt;
&lt;h4 id=&quot;redis&quot;&gt;Redis&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç”Ÿæˆé˜Ÿåˆ—ä»»åŠ¡&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:job TranslateSlug
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç›‘å¬ Topic çš„ saved äº‹ä»¶ï¼Œè§¦å‘åå°†ä»»åŠ¡æ¨é€åˆ°é˜Ÿåˆ—&lt;/p&gt;

    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;saved&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Topic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;// å¦‚ slug å­—æ®µæ— å†…å®¹ï¼Œå³ä½¿ç”¨ç¿»è¯‘å™¨å¯¹ title è¿›è¡Œç¿»è¯‘&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  
          &lt;span class=&quot;c1&quot;&gt;// æ¨é€ä»»åŠ¡åˆ°é˜Ÿåˆ—&lt;/span&gt;
          &lt;span class=&quot;nf&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TranslateSlug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;é˜Ÿåˆ—ç›‘æ§-horizon&quot;&gt;é˜Ÿåˆ—ç›‘æ§ Horizon&lt;/h4&gt;
&lt;p&gt;Horizon æ˜¯ Laravel ç”Ÿæ€åœˆé‡Œçš„ä¸€å‘˜ï¼Œä¸º Laravel Redis é˜Ÿåˆ—æä¾›äº†ä¸€ä¸ªæ¼‚äº®çš„ä»ªè¡¨æ¿ï¼Œå…è®¸æˆ‘ä»¬å¾ˆæ–¹ä¾¿åœ°æŸ¥çœ‹å’Œç®¡ç† Redis é˜Ÿåˆ—ä»»åŠ¡æ‰§è¡Œçš„æƒ…å†µã€‚&lt;/p&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;æ¨¡å‹ç›‘å¬&quot;&gt;æ¨¡å‹ç›‘å¬&lt;/h2&gt;
&lt;h3 id=&quot;æ¨¡å‹è§‚å¯Ÿå™¨ç›‘æ§-eloquent-æ¨¡å‹äº‹ä»¶&quot;&gt;æ¨¡å‹è§‚å¯Ÿå™¨ç›‘æ§ Eloquent æ¨¡å‹äº‹ä»¶&lt;/h3&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;å¤šè§’è‰²æƒé™ç®¡ç†&quot;&gt;å¤šè§’è‰²æƒé™ç®¡ç†&lt;/h2&gt;
&lt;h3 id=&quot;è§’è‰²æ˜¯ç”¨æˆ·åœ¨ç«™ç‚¹ä¸­çš„èº«ä»½å¾ˆå¤šæ—¶å€™ä¸ç«™ç‚¹æƒé™ç›¸å…³è”&quot;&gt;è§’è‰²æ˜¯ç”¨æˆ·åœ¨ç«™ç‚¹ä¸­çš„èº«ä»½ï¼Œå¾ˆå¤šæ—¶å€™ä¸ç«™ç‚¹æƒé™ç›¸å…³è”&lt;/h3&gt;
&lt;p&gt;åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼Œæƒé™ç”±ä½åˆ°é«˜ï¼š&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;æ¸¸å®¢ â€”â€” æ²¡æœ‰ç™»å½•çš„ç”¨æˆ·&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ· â€”â€” ç™»å½•ç”¨æˆ·&lt;/li&gt;
  &lt;li&gt;ç®¡ç†å‘˜ â€”â€” ç¤¾åŒºå†…å®¹ç®¡ç†&lt;/li&gt;
  &lt;li&gt;ç«™é•¿ â€”â€” æƒé™æœ€é«˜çš„ç”¨æˆ·è§’è‰²&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æƒé™ç®¡ç†æ‰©å±•åŒ…-laravel-permission&quot;&gt;æƒé™ç®¡ç†æ‰©å±•åŒ… Laravel-permission&lt;/h3&gt;
&lt;p&gt;æ•°æ®è¡¨ç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;roles â€”â€” è§’è‰²çš„æ¨¡å‹è¡¨ï¼›&lt;/li&gt;
  &lt;li&gt;permissions â€”â€” æƒé™çš„æ¨¡å‹è¡¨ï¼›&lt;/li&gt;
  &lt;li&gt;model_has_roles â€”â€” æ¨¡å‹ä¸è§’è‰²çš„å…³è”è¡¨ï¼Œç”¨æˆ·æ‹¥æœ‰ä»€ä¹ˆè§’è‰²åœ¨æ­¤è¡¨ä¸­å®šä¹‰ï¼Œä¸€ä¸ªç”¨æˆ·èƒ½æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼›&lt;/li&gt;
  &lt;li&gt;role_has_permissions â€”â€” è§’è‰²æ‹¥æœ‰çš„æƒé™å…³è”è¡¨ï¼Œå¦‚ç®¡ç†å‘˜æ‹¥æœ‰æŸ¥çœ‹åå°çš„æƒé™éƒ½æ˜¯åœ¨æ­¤è¡¨å®šä¹‰ï¼Œä¸€ä¸ªè§’è‰²èƒ½æ‹¥æœ‰å¤šä¸ªæƒé™ï¼›&lt;/li&gt;
  &lt;li&gt;model_has_permissions â€”â€” æ¨¡å‹ä¸æƒé™å…³è”è¡¨ï¼Œä¸€ä¸ªæ¨¡å‹èƒ½æ‹¥æœ‰å¤šä¸ªæƒé™ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç®¡ç†åå°æ‰©å±•åŒ…-laravel-administrator&quot;&gt;ç®¡ç†åå°æ‰©å±•åŒ… Laravel Administrator&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ã€Œé…ç½®ä¿¡æ¯ã€æ¥å¿«é€Ÿç”Ÿæˆç®¡ç†å‘˜åå°çš„å¼€å‘ç†å¿µï¼Œå‡ åˆ†é’Ÿå†…å°±èƒ½æ‹¥æœ‰ä¸€ä¸ªå¯ç”¨çš„åå°ã€‚&lt;/p&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;è®¡åˆ’ä»»åŠ¡&quot;&gt;è®¡åˆ’ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ Laravel å‘½ä»¤è°ƒåº¦å™¨åœ¨ Laravel ä¸­å¯¹å‘½ä»¤è°ƒåº¦è¿›è¡Œæ¸…æ™°æµç•…çš„å®šä¹‰ï¼Œè¿™æ ·åªéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå¢åŠ ä¸€æ¡ Cron é¡¹ç›®å³å¯ã€‚è°ƒåº¦åœ¨ app/Console/Kernel.php æ–‡ä»¶çš„ schedule æ–¹æ³•ä¸­å®šä¹‰ï¼Œè¿˜èƒ½å—åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¿®æ”¹ç³»ç»Ÿçš„-cron-è®¡åˆ’ä»»åŠ¡é…ç½®ä¿¡æ¯&quot;&gt;ä¿®æ”¹ç³»ç»Ÿçš„ Cron è®¡åˆ’ä»»åŠ¡é…ç½®ä¿¡æ¯&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;EDITOR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;vim &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; crontab &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¢åŠ ä¸‹é¢è¿™è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* * * * * php /home/vagrant/Code/larabbs/artisan schedule:run &amp;gt;&amp;gt; /dev/null 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç³»ç»Ÿçš„ Cron å·²ç»è®¾å®šå¥½äº†ï¼Œç°åœ¨ Cron è½¯ä»¶å°†ä¼šæ¯åˆ†é’Ÿè°ƒç”¨ä¸€æ¬¡ Laravel å‘½ä»¤è°ƒåº¦å™¨ï¼Œå½“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schedule:run&lt;/code&gt; å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œ Laravel ä¼šè¯„ä¼°ä½ çš„è®¡åˆ’ä»»åŠ¡å¹¶è¿è¡Œé¢„å®šä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨å†Œè°ƒåº¦ä»»åŠ¡&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Console/Kernel.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Schedule&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$schedule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// ä¸€å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€æ´»è·ƒç”¨æˆ·ã€æ•°æ®ç”Ÿæˆçš„å‘½ä»¤&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$schedule&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'larabbs:calculate-active-user'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;hourly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;ç”¨æˆ·æœ€åç™»å½•æ—¶é—´&quot;&gt;ç”¨æˆ·æœ€åç™»å½•æ—¶é—´&lt;/h2&gt;
&lt;h3 id=&quot;åŸºæœ¬æ€è·¯&quot;&gt;åŸºæœ¬æ€è·¯ï¼š&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;è®°å½• - é€šè¿‡ä¸­é—´ä»¶è¿‡æ»¤ç”¨æˆ·æ‰€æœ‰è¯·æ±‚ï¼Œè®°å½•ç”¨æˆ·è®¿é—®æ—¶é—´åˆ° Redis æŒ‰æ—¥æœŸåŒºåˆ†çš„å“ˆå¸Œè¡¨ï¼›&lt;/li&gt;
  &lt;li&gt;åŒæ­¥ - æ–°å»ºå‘½ä»¤ï¼Œè®¡åˆ’ä»»åŠ¡æ¯å¤©è¿è¡Œä¸€æ¬¡æ­¤å‘½ä»¤ï¼Œå°†æ˜¨æ—¥å“ˆå¸Œè¡¨é‡Œçš„æ•°æ®åŒæ­¥åˆ°æ•°æ®åº“ä¸­ï¼Œå¹¶åˆ é™¤ï¼›&lt;/li&gt;
  &lt;li&gt;è¯»å– - ä¼˜å…ˆè¯»å–å½“æ—¥å“ˆå¸Œè¡¨é‡Œ Redis é‡Œçš„æ•°æ®ï¼Œæ— æ•°æ®åˆ™ä½¿ç”¨æ•°æ®åº“ä¸­çš„å€¼ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;è‡ªå®šä¹‰-middleware-ä¸­é—´ä»¶&quot;&gt;è‡ªå®šä¹‰ Middleware ä¸­é—´ä»¶&lt;/h3&gt;
&lt;h4 id=&quot;åˆ©ç”¨-laravel-ä¸­é—´ä»¶-åŠŸèƒ½æ¥å®ç°ç”¨æˆ·è®¿é—®æ—¶é—´çš„è®°å½•&quot;&gt;åˆ©ç”¨ &lt;a href=&quot;https://learnku.com/docs/laravel/7.x/middleware&quot;&gt;Laravel ä¸­é—´ä»¶&lt;/a&gt; åŠŸèƒ½æ¥å®ç°ç”¨æˆ·è®¿é—®æ—¶é—´çš„è®°å½•ã€‚&lt;/h4&gt;
&lt;p&gt;åˆ›å»ºä¸­é—´ä»¶&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:middleware RecordLastActivedTime
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Http/Middleware/RecordLastActivedTime.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// å¦‚æœæ˜¯ç™»å½•ç”¨æˆ·çš„è¯&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// è®°å½•æœ€åç™»å½•æ—¶é—´&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;Auth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;recordLastActivedAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨å†Œä¸­é—´ä»¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Http/Kernel.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$middlewareGroups&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Web ä¸­é—´ä»¶ç»„ï¼Œåº”ç”¨äº routes/web.php è·¯ç”±æ–‡ä»¶ï¼Œ&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// åœ¨ RouteServiceProvider ä¸­è®¾å®š&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'web'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// è®°å½•ç”¨æˆ·æœ€åæ´»è·ƒæ—¶é—´&lt;/span&gt;
            &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;App\Http\Middleware\RecordLastActivedTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;mf&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è‡ªå®šä¹‰-artisan-å‘½ä»¤&quot;&gt;è‡ªå®šä¹‰ Artisan å‘½ä»¤&lt;/h3&gt;
&lt;h4 id=&quot;æ–°å»ºå‘½ä»¤&quot;&gt;æ–°å»ºå‘½ä»¤&lt;/h4&gt;
&lt;p&gt;ç»ˆç«¯ä¸­æ‰§è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:command SyncUserActivedAt &lt;span class=&quot;nt&quot;&gt;--command&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;larabbs:sync-user-actived-at
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Console/Commands/SyncUserActivedAt.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$signature&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'larabbs:sync-user-actived-at'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'å°†ç”¨æˆ·æœ€åç™»å½•æ—¶é—´ä» Redis åŒæ­¥åˆ°æ•°æ®åº“ä¸­'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;syncUserActivedAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;åŒæ­¥æˆåŠŸï¼&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ‰§è¡Œå‘½ä»¤&quot;&gt;æ‰§è¡Œå‘½ä»¤&lt;/h4&gt;
&lt;p&gt;ç»ˆç«¯ä¸­æ‰§è¡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan larabbs:sync-user-actived-at
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æ¯å¤©é›¶æ—¶-0000-è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡ŒåŒæ­¥é€šè¿‡-laravel-ä»»åŠ¡è°ƒåº¦å®ç°æ­¤åŠŸèƒ½&quot;&gt;æ¯å¤©é›¶æ—¶ 00:00 è‡ªåŠ¨å¯¹æ•°æ®è¿›è¡ŒåŒæ­¥ã€‚é€šè¿‡ Laravel ä»»åŠ¡è°ƒåº¦å®ç°æ­¤åŠŸèƒ½ã€‚&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/Console/Kernel.php&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Schedule&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$schedule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// æ¯æ—¥é›¶æ—¶æ‰§è¡Œä¸€æ¬¡&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$schedule&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'larabbs:sync-user-actived-at'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dailyAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'00:00'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;
&lt;h2 id=&quot;æ¶ˆæ¯é€šçŸ¥&quot;&gt;æ¶ˆæ¯é€šçŸ¥&lt;/h2&gt;
&lt;h3 id=&quot;laravel-çš„æ¶ˆæ¯é€šçŸ¥ç³»ç»Ÿ&quot;&gt;Laravel çš„æ¶ˆæ¯é€šçŸ¥ç³»ç»Ÿ&lt;/h3&gt;
&lt;h4 id=&quot;é€šçŸ¥é¢‘é“æœ‰æ•°æ®åº“é‚®ä»¶çŸ­ä¿¡é€šè¿‡-nexmoä»¥åŠ-slack&quot;&gt;é€šçŸ¥é¢‘é“æœ‰æ•°æ®åº“ã€é‚®ä»¶ã€çŸ­ä¿¡ï¼ˆé€šè¿‡ Nexmoï¼‰ä»¥åŠ Slackã€‚&lt;/h4&gt;
&lt;h4 id=&quot;å½“-topic-æœ‰æ–°-reply-æ—¶é€šçŸ¥ä½œè€…&quot;&gt;å½“ Topic æœ‰æ–° reply æ—¶ï¼Œé€šçŸ¥ä½œè€…&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;å‡†å¤‡æ•°æ®åº“&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan notifications:table

php artisan migrate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¹¶åœ¨ç”¨æˆ·è¡¨åŠ å…¥æ¶ˆæ¯è®¡æ•°å­—æ®µã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ç”Ÿæˆé€šçŸ¥ç±»&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;php artisan make:notification TopicReplied
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;åœ¨æ¨¡å‹ç›‘å¬å™¨ä¸­ç›‘å¬ reply çš„ created äº‹ä»¶ï¼Œè§¦å‘åä½¿ç”¨ notify() å‘é€é€šçŸ¥&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// é€šçŸ¥è¯é¢˜ä½œè€…æœ‰æ–°çš„è¯„è®º&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$reply&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;topic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;notify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TopicReplied&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$reply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
   </entry>
   

</feed>


</body>
</html>
